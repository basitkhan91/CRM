﻿
<div class="x_content">
    <div class="card">
        <div class="card-header">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb rpo-bcrumb" style="background-color: transparent;">
                    <li class="breadcrumb-item active" aria-current="page">{{isEditMode ? 'Edit' : 'Create'}} Stock Line</li>
                </ol>
            </nav>
        </div>
        <div class="card-body">
            <!-- <h4 class="po-head">Stock Line Setup</h4> {{isEditMode ? 'Edit' : 'Create'}}-->
            <form #stockLineSetupForm="ngForm">
                <div class="form-row">                            
                    <div class="col-md-3">
                        <div class="card" style="margin-top: 20px;margin-bottom: 10px;">
                            <div class="card-header" style="padding: 10px 12px;">
                                <h5 style="margin-bottom: 0; font-size: 12px;">Management Structure <span class="clr-red">*</span></h5>
                            </div>
                            <div class="card-body" style="padding: 12px 12px 4px;">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <select class="form-control" name="company" [(ngModel)]="managementStructure.companyId" 
                                        (change)="selectedLegalEntity(managementStructure.companyId);" #companyName="ngModel" required>
                                            <option value="0">Select Legal Entity</option>
                                            <option *ngFor="let name of legalEntityList" [ngValue]="name.value">{{name.label}}</option>
                                        </select>
                                        <div *ngIf="companyName.invalid && (companyName.dirty || companyName.touched)" class="alert alert-danger alert-danger-cstm">
                                                <div *ngIf="companyName.errors.required">
                                                    <small> Legal Entity Name is required </small>
                                                </div>
                                        </div>        
                                    </div>
                                    <!-- <div class="form-group">
                                        <p-dropdown placeholder="Select Legal Entity"
                                                    name="company"
                                                    #companyId="ngModel"
                                                    required
                                                    [options]="legalEntityList"
                                                    class="p-dropdown-custom-md-2"
                                                    (onChange)="selectedLegalEntity($event.value)"
                                                    [(ngModel)]="managementStructure.companyId">
                                        </p-dropdown>
                                    </div> -->
                                    <div class="form-group">
                                        <select class="form-control" [(ngModel)]="managementStructure.buId" name="buId" (change)="selectedBusinessUnit(managementStructure.buId)">
                                            <option value="0">-- Select --</option>
                                            <option *ngFor="let name of businessUnitList" [ngValue]="name.value">{{name.label}}</option>
                                        </select>
                                        <!-- <p-dropdown placeholder="Select"
                                                    name="bu"
                                                    #bu="ngModel"
                                                    [options]="businessUnitList"
                                                    class="p-dropdown-custom-md-2"
                                                    (onChange)="selectedBusinessUnit($event.value)"
                                                    [(ngModel)]="managementStructure.buId">
                                        </p-dropdown> -->
                                    </div>
                                    <div class="form-group">
                                        <select class="form-control" [(ngModel)]="managementStructure.divisionId" name="divisionId" (change)="selectedDivision(managementStructure.divisionId)">
                                            <option value="0">-- Select --</option>
                                            <option *ngFor="let name of divisionList" [ngValue]="name.value">{{name.label}}</option>
                                        </select>
                                        <!-- <p-dropdown placeholder="Select"
                                                    name="division"
                                                    #division="ngModel"
                                                    [options]="divisionList"
                                                    class="p-dropdown-custom-md-2"
                                                    (onChange)="selectedDivision($event.value)"
                                                    [(ngModel)]="managementStructure.divisionId">
                                        </p-dropdown> -->
                                    </div>
                                    <div class="form-group">
                                        <select class="form-control" [(ngModel)]="managementStructure.departmentId" name="departmentId" (change)="selectedDepartment(managementStructure.departmentId)">
                                            <option value="0">-- Select --</option>
                                            <option *ngFor="let name of departmentList" [ngValue]="name.value">{{name.label}}</option>
                                        </select>
                                        <!-- <p-dropdown placeholder="Select"
                                                    name="department"
                                                    #department="ngModel"
                                                    [options]="departmentList"
                                                    class="p-dropdown-custom-md-2"
                                                    (onChange)="selectedDepartment($event.value)"
                                                    [(ngModel)]="managementStructure.departmentId">
                                        </p-dropdown> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>PN <span class="clr-red">*</span>
                                <span style="margin-left:3px;cursor:pointer;"><a class="fa fa-plus-circle fa-lg" matTooltip="Add Part Number" matTooltipPosition="above" target="_blank" [routerLink]="['/itemmastersmodule/itemmasterpages/app-item-master-stock']"></a></span>
                            </label>
                            <div class="inner-addon right-addon inline-block">
                                <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.itemMasterId" name="partNumber" [suggestions]="partNumbersCollection" (completeMethod)="filterPartNumbers($event)" [size]="30" [minLength]="1" [dropdown]="true" (onSelect)="onPartNumberSelected($event.value);" #partNum="ngModel" errorMessage="Records not found" [forceSelection]="true" required></p-autoComplete>
                                <div *ngIf="partNum.invalid && (partNum.dirty || partNum.touched)" class="alert alert-danger alert-danger-cstm">
                                        <div *ngIf="partNum.errors.required">
                                            <small> Part Number is required </small>
                                        </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>PN Description</label>
                            <input class="form-control" type="text" name="pnDescription" [(ngModel)]="stockLineForm.partDescription" disabled>
                        </div>
                        <div class="form-group">
                            <label>Stock Line Num</label>
                            <input class="form-control" type="text" name="stockLineNumber" [(ngModel)]="stockLineForm.stockLineNumber" disabled>
                        </div>
                        <div class="form-group">
                            <label>Control Num</label>
                            <input class="form-control" type="text" name="controlNumber" [(ngModel)]="stockLineForm.controlNumber" disabled>
                        </div>
                        <div class="form-group">
                            <label>Id Number</label>
                            <input class="form-control" type="text" name="idNumber" [(ngModel)]="stockLineForm.idNumber" disabled>
                        </div>
                        <div class="form-group">
                            <div class="checkbox-cstm" style="margin-top: 10px;">
                                <label>
                                    <input type="checkbox" name="isSerialized" [(ngModel)]="stockLineForm.isSerialized" disabled>
                                    <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                    Is Serialized
                                </label>
                            </div> <!--(change)="triggerSomeEvent()"-->
                        </div>
                        <div class="form-group">
                            <label>Qty On Hand <span class="clr-red">*</span></label>
                            <input class="form-control" type="number" name="QuantityOnHand" (keyup)="calculateQtyAvailable()" [(ngModel)]="stockLineForm.QuantityOnHand" #quantityOnHand="ngModel" required>
                            <div *ngIf="quantityOnHand.invalid && (quantityOnHand.dirty || quantityOnHand.touched)" class="alert alert-danger alert-danger-cstm">
                                <div *ngIf="quantityOnHand.errors.required">
                                    <small> Qty On Hand is required </small>
                                </div>
                            </div>   
                        </div>
                        <div class="form-group">
                            <label>Qty Reserved</label>
                            <input class="form-control" type="number" name="QuantityReserved" (keyup)="calculateQtyAvailable()" [(ngModel)]="stockLineForm.QuantityReserved">
                        </div>
                        <div class="form-group">
                            <label>Qty Issued</label>
                            <input class="form-control" type="number" name="QuantityIssued" (keyup)="calculateQtyAvailable()" [(ngModel)]="stockLineForm.QuantityIssued">
                        </div>
                        <div class="form-group">
                            <label>Qty Available</label>
                            <input class="form-control" type="number" name="quantityAvailable" (keyup)="calculateQtyAvailable()" [(ngModel)]="stockLineForm.quantityAvailable" disabled>
                        </div>
                        <div class="form-group">
                            <label>Cond Type <span class="clr-red">*</span></label>
                            <select name="conditionId" [(ngModel)]="stockLineForm.conditionId" (change)="onSelectConditionType()" required>
                                <option value="0">-- Select --</option>
                                <option *ngFor="let condition of allConditionInfo" [ngValue]="condition.conditionId">{{condition.description}}</option>
                            </select>
                        </div>
                        <div class="form-group" *ngIf="!hideSerialNumber">
                            <label>Serial Num <span class="clr-red">*</span></label>
                            <input class="form-control" type="text" name="serialNumber" #serialNumber="ngModel" [(ngModel)]="stockLineForm.serialNumber">
                            <div *ngIf="serialNumber.invalid && (serialNumber.dirty || serialNumber.touched)" class="alert alert-danger alert-danger-cstm">
                                <div *ngIf="serialNumber.errors.required">
                                    <small> Serial Num is required </small>
                                </div>
                            </div> 
                        </div>
                        <div class="form-group">
                            <div class="checkbox-cstm" style="margin-top: 10px;">
                                <label>
                                    <input type="checkbox" name="isSerialized" [(ngModel)]="stockLineForm.shelfLife" disabled>
                                    <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                    Shelf Life
                                </label>
                            </div>
                        </div>
                        <div class="form-group" *ngIf="stockLineForm.shelfLife == 1">
                            <label>Shelf Life Exp Date</label>
                            <p-calendar class="workflow-clder" name="shelfLifeExpirationDate" [showIcon]="true" [minDate]="minDateValue" [(ngModel)]="stockLineForm.shelfLifeExpirationDate"></p-calendar>
                        </div>                                                                        
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>Site <span class="clr-red">*</span></label>
                            <select [(ngModel)]="stockLineForm.siteId" name="siteId" (change)="getWareHouseList(stockLineForm.siteId)">
                                <option value="0">-- Select --</option>
                                <option *ngFor="let site of allSites" [ngValue]="site.siteId">{{site.name}}</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Warehouse</label>
                            <select [(ngModel)]="stockLineForm.warehouseId" name="warehouseId" (change)="getLocationList(stockLineForm.warehouseId)">
                                <option value="0">-- Select --</option>
                                <option *ngFor="let site of allWareHouses" [ngValue]="site.warehouseId">{{site.warehouseName}}</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <select [(ngModel)]="stockLineForm.locationId" name="locationId" (change)="getShelfList(stockLineForm.locationId)">
                                <option value="0">-- Select --</option>
                                <option *ngFor="let site of allLocations" [ngValue]="site.locationId">{{site.name}}</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Shelf</label>
                            <select [(ngModel)]="stockLineForm.shelfId" name="shelfId" (change)="getBinList(stockLineForm.shelfId)">
                                <option value="0">-- Select --</option>
                                <option *ngFor="let site of allShelfs" [ngValue]="site.shelfId">{{site.name}}</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Bin</label>
                            <select [(ngModel)]="stockLineForm.binId" name="binId">
                                <option value="0">-- Select --</option>
                                <option *ngFor="let site of allBins" [ngValue]="site.binId">{{site.name}}</option>
                            </select>
                        </div>
                        <div class="form-group">
                                <label>Obtain From</label>
                                <select [(ngModel)]="stockLineForm.obtainFromType" name="obtainFromType" (change)="onSelectObrainFrom()">
                                    <option value="0">-- Select --</option>
                                    <option value="1">Customer</option>
                                    <option value="2">Vendor</option>
                                    <option value="3">Company</option>
                                    <option value="4">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="form-row" *ngIf="stockLineForm.obtainFromType == 1">
                                    <div class="col-sm-11">
                                        <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.obtainFrom" name="obtainFromCustomer" [suggestions]="customerNames" (completeMethod)="filterCustomerNames($event)" [size]="30" [minLength]="1" [dropdown]="true" errorMessage="Records not found" [forceSelection]="true"></p-autoComplete>                                    
                                    </div>
                                    <div class="col-sm-1">
                                        <div style="cursor:pointer; font-size:14px; margin:2px -7px;"><a class="fa fa-plus-circle fa-lg" target="_blank" matTooltip="Add Customer" matTooltipPosition="above" [routerLink]="['/customersmodule/customerpages/app-customer-create']"></a></div>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.obtainFromType == 2">
                                    <div class="col-sm-11">
                                        <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.obtainFrom" name="obtainFromVendor" [suggestions]="vendorNames" (completeMethod)="filterVendorNames($event)" [size]="30" [minLength]="1" [dropdown]="true" errorMessage="Records not found" [forceSelection]="true">
                                        </p-autoComplete>
                                    </div>
                                    <div class="col-sm-1">
                                        <div style="cursor:pointer; font-size:14px; margin:2px -7px;"><a class="fa fa-plus-circle fa-lg" target="_blank" matTooltip="Add Vendor" matTooltipPosition="above" [routerLink]="['/vendorsmodule/vendorpages/app-vendor-general-information']"></a></div>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.obtainFromType == 3">
                                    <div class="col-sm-12">
                                        <p-autoComplete field="label" class="pautocomp-cstm"
                                            [(ngModel)]="stockLineForm.obtainFrom" name="obtainFromCompany" 
                                            [suggestions]="companyNames" 
                                            (completeMethod)="filterCompanyNames($event)" 
                                            [size]="30" 
                                            [minLength]="1"
                                            [dropdown]="true"
                                            errorMessage="Records not found" 
                                            [forceSelection]="true">
                                        </p-autoComplete>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.obtainFromType == 4">
                                    <div class="col-sm-12">
                                        <input class="form-control" type="text" name="obtainFromOther" [(ngModel)]="stockLineForm.obtainFrom">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Owner</label>
                                <select [(ngModel)]="stockLineForm.ownerType" name="ownerType" (change)="onSelectOwner()">
                                    <option value="0">-- Select --</option>
                                    <option value="1">Customer</option>
                                    <option value="2">Vendor</option>
                                    <option value="3">Company</option>
                                    <option value="4">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="form-row" *ngIf="stockLineForm.ownerType == 1">
                                    <div class="col-sm-11">
                                        <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.owner" name="ownerCustomer" [suggestions]="customerNames" (completeMethod)="filterCustomerNames($event)" [size]="30" [minLength]="1" [dropdown]="true" errorMessage="Records not found" [forceSelection]="true"></p-autoComplete>                                    
                                    </div>
                                    <div class="col-sm-1">
                                        <div style="cursor:pointer; font-size:14px; margin:2px -7px;"><a class="fa fa-plus-circle fa-lg" target="_blank" matTooltip="Add Customer" matTooltipPosition="above" [routerLink]="['/customersmodule/customerpages/app-customer-create']"></a></div>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.ownerType == 2">
                                    <div class="col-sm-11">
                                        <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.owner" name="ownerVendor" [suggestions]="vendorNames" (completeMethod)="filterVendorNames($event)" [size]="30" [minLength]="1" [dropdown]="true" errorMessage="Records not found" [forceSelection]="true">
                                        </p-autoComplete>
                                    </div>
                                    <div class="col-sm-1">
                                        <div style="cursor:pointer; font-size:14px; margin:2px -7px;"><a class="fa fa-plus-circle fa-lg" target="_blank" matTooltip="Add Vendor" matTooltipPosition="above" [routerLink]="['/vendorsmodule/vendorpages/app-vendor-general-information']"></a></div>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.ownerType == 3">
                                    <div class="col-sm-12">
                                        <p-autoComplete field="label" class="pautocomp-cstm"
                                            [(ngModel)]="stockLineForm.owner" name="ownerCompany" 
                                            [suggestions]="companyNames" 
                                            (completeMethod)="filterCompanyNames($event)" 
                                            [size]="30" 
                                            [minLength]="1"
                                            [dropdown]="true"
                                            errorMessage="Records not found" 
                                            [forceSelection]="true">
                                        </p-autoComplete>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.ownerType == 4">
                                    <div class="col-sm-12">
                                        <input class="form-control" type="text" name="ownerOther" [(ngModel)]="stockLineForm.owner">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Traceble To</label>
                                <select [(ngModel)]="stockLineForm.traceableToType" name="traceableToType" (change)="onSelectTraceableTo()">
                                    <option value="0">-- Select --</option>
                                    <option value="1">Customer</option>
                                    <option value="2">Vendor</option>
                                    <option value="3">Company</option>
                                    <option value="4">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="form-row" *ngIf="stockLineForm.traceableToType == 1">
                                    <div class="col-sm-11">
                                        <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.traceableTo" name="traceableToCustomer" [suggestions]="customerNames" (completeMethod)="filterCustomerNames($event)" [size]="30" [minLength]="1" [dropdown]="true" errorMessage="Records not found" [forceSelection]="true"></p-autoComplete>                                    
                                    </div>
                                    <div class="col-sm-1">
                                        <div style="cursor:pointer; font-size:14px; margin:2px -7px;"><a class="fa fa-plus-circle fa-lg" target="_blank" matTooltip="Add Customer" matTooltipPosition="above" [routerLink]="['/customersmodule/customerpages/app-customer-create']"></a></div>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.traceableToType == 2">
                                    <div class="col-sm-11">
                                        <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.traceableTo" name="traceableToVendor" [suggestions]="vendorNames" (completeMethod)="filterVendorNames($event)" [size]="30" [minLength]="1" [dropdown]="true" errorMessage="Records not found" [forceSelection]="true">
                                        </p-autoComplete>
                                    </div>
                                    <div class="col-sm-1">
                                        <div style="cursor:pointer; font-size:14px; margin:2px -7px;"><a class="fa fa-plus-circle fa-lg" target="_blank" matTooltip="Add Vendor" matTooltipPosition="above" [routerLink]="['/vendorsmodule/vendorpages/app-vendor-general-information']"></a></div>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.traceableToType == 3">
                                    <div class="col-sm-12">
                                        <p-autoComplete field="label" class="pautocomp-cstm"
                                            [(ngModel)]="stockLineForm.traceableTo" name="traceableToCompany" 
                                            [suggestions]="companyNames" 
                                            (completeMethod)="filterCompanyNames($event)" 
                                            [size]="30" 
                                            [minLength]="1"
                                            [dropdown]="true"
                                            errorMessage="Records not found" 
                                            [forceSelection]="true">
                                        </p-autoComplete>
                                    </div>
                                </div>
                                <div class="form-row" *ngIf="stockLineForm.traceableToType == 4">
                                    <div class="col-sm-12">
                                        <input class="form-control" type="text" name="traceableToOther" [(ngModel)]="stockLineForm.traceableTo">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Mfg</label>
                                <select [(ngModel)]="stockLineForm.manufacturerId" name="manufacturerId">
                                    <option value="0">-- Select --</option>
                                    <option *ngFor="let manufacturer of allManufacturerInfo" [ngValue]="manufacturer.manufacturerId">{{manufacturer.name}}</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Mfg Lot Num</label>
                                <input class="form-control" type="text" name="manufacturerLotNumber" [(ngModel)]="stockLineForm.manufacturerLotNumber">
                            </div>
                            <div class="form-group" *ngIf="stockLineForm.IsManufacturingDateAvailable == 1">
                                <label>Mfg Date</label>
                                <p-calendar class="workflow-clder" [showIcon]="true" [maxDate]="minDateValue" name="manufacturingDate" [(ngModel)]="stockLineForm.manufacturingDate"></p-calendar>
                            </div>
                            <div class="form-group">
                                <label>Mfg Batch Num</label>
                                <input class="form-control" type="text" name="manufacturingBatchNumber" [(ngModel)]="stockLineForm.manufacturingBatchNumber">
                            </div>
                            <div class="form-group">
                                <label matTooltip="Engine Serial Number" matTooltipPosition="right">ESN</label>
                                <input class="form-control" type="text" name="engineSerialNumber" [(ngModel)]="stockLineForm.EngineSerialNumber">
                            </div>
                            <div class="form-group">
                                <label matTooltip="Export Control Classification Number" matTooltipPosition="right">ECCN</label>
                                <input class="form-control" type="text" name="ExportECCN" [(ngModel)]="stockLineForm.ExportECCN">
                            </div>
                            <div class="form-group">
                                <label matTooltip="International Traffic in Arms Regulations Number" matTooltipPosition="right">ITAR Num</label>
                                <input class="form-control" type="text" name="ITARNumber" [(ngModel)]="stockLineForm.ITARNumber">
                            </div>
                            <div class="form-group">
                                <label matTooltip="Next Higher Assembly" matTooltipPosition="right">NHA</label>
                                <input class="form-control" type="text" name="NHA" [(ngModel)]="stockLineForm.NHA">
                            </div>
                                                        
                    </div>
                    <div class="col-md-6">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label matTooltip="Top Level Assembly" matTooltipPosition="right">TLA</label>
                                <input class="form-control" type="text" name="tla" [(ngModel)]="stockLineForm.tla">
                            </div>
                            <div class="form-group">
                                <label matTooltip="National Stock Number" matTooltipPosition="right">NSN</label>
                                <input class="form-control" type="text" name="nationalStockNumber" [(ngModel)]="stockLineForm.nationalStockNumber">
                            </div>
                            <div class="form-group">
                                <label>Aircraft Tail Num</label>
                                <input class="form-control" type="text" name="aircraftTailNumber" [(ngModel)]="stockLineForm.aircraftTailNumber">
                            </div>
                            <div class="form-group">
                                <label>Part Cert Num</label>
                                <input class="form-control" type="text" name="partCertificationNumber" [(ngModel)]="stockLineForm.partCertificationNumber">
                            </div>
                            <div class="form-group">
                                <label>Certify By
                                    <span style="margin-left:3px;cursor:pointer;"><a class="fa fa-plus-circle fa-lg" matTooltip="Add Employee" matTooltipPosition="above" target="_blank" [routerLink]="['/employeesmodule/employeepages/app-employee-general-information']"></a></span>
                                </label>
                                <div class="inner-addon right-addon inline-block">
                                    <p-autoComplete field="label" class="pautocomp-cstm" [(ngModel)]="stockLineForm.certifiedBy" name="certifiedBy" [suggestions]="certifyByNames" (completeMethod)="filterEmployees($event)" [size]="30" [minLength]="1" [dropdown]="true" errorMessage="Records not found" [forceSelection]="true"></p-autoComplete>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Certified Date</label>
                                <p-calendar class="workflow-clder" [showIcon]="true" name="certifiedDate" [minDate]="minDateValue" [(ngModel)]="stockLineForm.certifiedDate"></p-calendar>
                            </div>
                            <div class="form-group">
                                <label>Tag Date</label>
                                <p-calendar class="workflow-clder" [showIcon]="true" name="tagDate" [minDate]="minDateValue" [(ngModel)]="stockLineForm.tagDate"></p-calendar>
                            </div>
                            <div class="form-group">
                                <label>Tag Type</label>
                                <select [(ngModel)]="stockLineForm.tagType" name="tagType">
                                    <option value="0">-- Select --</option>
                                    <option *ngFor="let tag of allTagTypes" [ngValue]="tag.tagTypeId">{{tag.name}}</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Certified Due Date</label>
                                <p-calendar class="workflow-clder" [showIcon]="true" name="certifiedDueDate" [(ngModel)]="stockLineForm.certifiedDueDate"></p-calendar>
                            </div>
                            <div class="form-group">
                                <label>Order Date</label>
                                <p-calendar class="workflow-clder" [showIcon]="true" name="orderDate" [(ngModel)]="stockLineForm.orderDate" [disabled]="true"></p-calendar>
                            </div>
                            <div class="form-group">
                                <label>Open Date</label>
                                <p-calendar class="workflow-clder" [showIcon]="true" name="openDate" [(ngModel)]="stockLineForm.openDate" [disabled]="true"></p-calendar>
                            </div>
                            <div class="form-group">
                                <label>Days Since Received</label>
                                <input class="form-control" type="text" name="daysReceived" [(ngModel)]="stockLineForm.daysReceived" disabled>
                            </div> 
                            <div class="form-group">
                                <label>Days Since Mfg</label>
                                <input class="form-control" type="text" name="manufacturingDays" [(ngModel)]="stockLineForm.manufacturingDays" disabled>
                            </div>
                            <div class="form-group">
                                <label>Days Since Tagged</label>
                                <input class="form-control" type="text" name="tagDays" [(ngModel)]="stockLineForm.tagDays" disabled>
                            </div>
                            <div class="form-group">
                                <label>Days Since Open</label>
                                <input class="form-control" type="text" name="openDays" [(ngModel)]="stockLineForm.openDays" disabled>
                            </div>                            
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div class="checkbox-cstm" style="margin-top: 10px;">
                                    <label>
                                        <input type="checkbox" name="blackListed" [(ngModel)]="stockLineForm.blackListed">
                                        <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                        Blacklisted
                                    </label>
                                </div>
                            </div>
                            <div class="form-group memo-popup-cstm" style="margin-top: 12px;" *ngIf="stockLineForm.blackListed == true">
                                <!-- <label>Memo</label> -->
                                <span matTooltip="{{stockLineForm.blackListedReason}}" matTooltipPosition="above"><input type="text" name="blackListedReason" pInputText class="form-control" value="{{stockLineForm.blackListedReason}}" disabled /></span>
                                <i class="fa fa-info-circle fa-lg" data-toggle="modal" data-target="#textarea-popup" matTooltip="{{stockLineForm.blackListedReason}}" matTooltipPosition="above" (click)="onAddTextAreaInfo('blackListedReason')"></i>
                            </div>
                            <div class="form-group">
                                <div class="checkbox-cstm" style="margin-top: 10px;">
                                    <label>
                                        <input type="checkbox" name="incident" [(ngModel)]="stockLineForm.incident">
                                        <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                        Incident
                                    </label>
                                </div>
                            </div>
                            <div class="form-group memo-popup-cstm" style="margin-top: 12px;" *ngIf="stockLineForm.incident == true">
                                <span matTooltip="{{stockLineForm.incidentReason}}" matTooltipPosition="above"><input type="text" name="incidentReason" pInputText class="form-control" value="{{stockLineForm.incidentReason}}" disabled /></span>
                                <i class="fa fa-info-circle fa-lg" data-toggle="modal" data-target="#textarea-popup" matTooltip="{{stockLineForm.incidentReason}}" matTooltipPosition="above" (click)="onAddTextAreaInfo('incidentReason')"></i>
                            </div>
                            <div class="form-group">
                                <div class="checkbox-cstm" style="margin-top: 10px;">
                                    <label>
                                        <input type="checkbox" name="incident" [(ngModel)]="stockLineForm.accident">
                                        <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                        Accident
                                    </label>
                                </div>
                            </div>
                            <div class="form-group memo-popup-cstm" style="margin-top: 12px;" *ngIf="stockLineForm.accident == true">
                                <span matTooltip="{{stockLineForm.accidentReason}}" matTooltipPosition="above"><input type="text" name="accidentReason" pInputText class="form-control" value="{{stockLineForm.accidentReason}}" disabled /></span>
                                <i class="fa fa-info-circle fa-lg" data-toggle="modal" data-target="#textarea-popup" matTooltip="{{stockLineForm.accidentReason}}" matTooltipPosition="above" (click)="onAddTextAreaInfo('accidentReason')"></i>
                            </div>
                            <div class="form-group">
                                <label>PO Num</label>
                                <select [(ngModel)]="stockLineForm.purchaseOrderId" name="purchaseOrderId" (change)="onChangePONum(stockLineForm.purchaseOrderId)">
                                    <option value="0">-- Select --</option>
                                    <option *ngFor="let po of allPolistInfo" [ngValue]="po.purchaseOrderId">{{po.purchaseOrderNumber}}</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>PO Unit Cost</label>
                                <input class="form-control" type="text" name="purchaseOrderUnitCost" [(ngModel)]="stockLineForm.purchaseOrderUnitCost" disabled>
                            </div>
                            <div class="form-group">
                                <label>RO Num</label>
                                <select [(ngModel)]="stockLineForm.repairOrderId" name="repairOrderId" (change)="onChangeRONum(stockLineForm.repairOrderId)">
                                    <option value="0">-- Select --</option>
                                    <option *ngFor="let manufacturer of allRolistInfo" [ngValue]="manufacturer.repairOrderId">{{manufacturer.repairOrderNumber}}
                                </select>
                            </div>
                            <div class="form-group">
                                <label>RO Unit Cost</label>
                                <input class="form-control" type="text" name="repairOrderUnitCost" [(ngModel)]="stockLineForm.repairOrderUnitCost" disabled>
                            </div>
                            <div class="form-group">
                                <label>Received Date <span class="clr-red">*</span></label>
                                <p-calendar class="workflow-clder" [showIcon]="true" name="receivedDate" [(ngModel)]="stockLineForm.receivedDate" #receivedDate="ngModel" required></p-calendar>
                                <div *ngIf="receivedDate.invalid && (receivedDate.dirty || receivedDate.touched)" class="alert alert-danger alert-danger-cstm">
                                    <div *ngIf="receivedDate.errors.required">
                                        <small> Received Date is required </small>
                                    </div>
                                </div> 
                            </div>
                            <div class="form-group">
                                <label>Received Num <span class="clr-red">*</span></label>
                                <input class="form-control" type="text" name="receiverNumber" [(ngModel)]="stockLineForm.receiverNumber" #receiverNumber="ngModel" required>
                                <div *ngIf="receiverNumber.invalid && (receiverNumber.dirty || receiverNumber.touched)" class="alert alert-danger alert-danger-cstm">
                                    <div *ngIf="receiverNumber.errors.required">
                                        <small> Received Num is required </small>
                                    </div>
                                </div> 
                            </div>
                            <div class="form-group">
                                <label>Reconciliation Num</label>
                                <input class="form-control" type="text" name="reconciliationNumber" [(ngModel)]="stockLineForm.reconciliationNumber">
                            </div>
                            <div class="form-group">
                                <label>Unit Sale Price</label>
                                <input class="form-control" type="number" name="unitSalesPrice" [(ngModel)]="stockLineForm.unitSalesPrice">
                            </div>
                            <div class="form-group">
                                <label>Core Unit Cost</label>
                                <input class="form-control" type="number" name="coreUnitCost" [(ngModel)]="stockLineForm.coreUnitCost">
                            </div>
                            <div class="form-group">
                                <label>Lot Cost</label>
                                <input class="form-control" type="number" name="lotCost" [(ngModel)]="stockLineForm.lotCost" disabled>
                            </div>
                            <div class="form-group">
                                <label>GL Account</label>
                                <input class="form-control" type="text" name="glAccountName" [(ngModel)]="stockLineForm.glAccountName" disabled>
                            </div>
                            <div class="form-group">
                                <div class="checkbox-cstm" style="margin-top: 10px;">
                                    <label>
                                        <input type="checkbox" name="isPMA" [(ngModel)]="stockLineForm.isPMA">
                                        <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                        PMA
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox-cstm" style="margin-top: 10px;">
                                    <label>
                                        <input type="checkbox" name="isDER" [(ngModel)]="stockLineForm.isDER">
                                        <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                        DER
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox-cstm" style="margin-top: 10px;">
                                    <label>
                                        <input type="checkbox" name="oem" [(ngModel)]="stockLineForm.oem">
                                        <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                        OEM
                                    </label>
                                </div>
                            </div>
                            <div class="form-group memo-popup-cstm" style="margin-top: 12px;">
                                <label>Memo</label>
                                <span matTooltip="{{stockLineForm.memo}}" matTooltipPosition="above"><input type="text" name="memo" pInputText class="form-control" value="{{stockLineForm.memo}}" disabled /></span>
                                <i class="fa fa-info-circle fa-lg" data-toggle="modal" data-target="#textarea-popup" matTooltip="{{stockLineForm.memo}}" matTooltipPosition="above" (click)="onAddTextAreaInfo('memo')"></i>
                            </div>
                        </div>
                        <div class="col-md-12 integrationWith">
                            <div class="form-group col-sm-12">
                                <div class="form-group col-sm-12 input-icon1">
                                    <div class="table-responsive">
                                        <table class="table table-bordered">
                                            <thead>
                                                <tr align="center">
                                                    <th>Services</th>
                                                    <th>Listed</th>
                                                    <th>Integrate With</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let col of allIntegrationInfo; let i = index;">            
                                                    <td>{{col.description}}</td>
                                                    <td>
                                                        <div class="checkbox-cstm">
                                                            <label>
                                                                <input type="checkbox" name="listedCheckbox{{i}}" [(ngModel)]="col.listedCheckbox"> <!--(click)="getSelectedItem(col,i)"-->
                                                                <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                                            </label>
                                                        </div>
                                                        <!-- <input type="checkbox" class=" wauto" [(ngModel)]="col.listedCheckbox" [ngModelOptions]="{standalone: true}" (click)="getSelectedItem(col,i)"> -->
                                                    </td>
                                                    <td>
                                                        <div class="checkbox-cstm">
                                                            <label>
                                                                <input type="checkbox" name="integratedCheckbox{{i}}" [(ngModel)]="col.integratedCheckbox"> <!--(click)="saveSelectedModel(col,$event)"-->
                                                                <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                                            </label>
                                                        </div>
                                                        <!-- <input type="checkbox" class=" wauto" [(ngModel)]="col.integratedCheckbox" [ngModelOptions]="{standalone: true}" (click)="saveSelectedModel(col,$event)"> -->
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-12">
                        <div class="form-group col-sm-12" *ngIf="sourceTimeLife.timeLife || sourceTimeLife.timeLifeCyclesId">
                            <div class="col-sm-12">
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th colspan="15" class="text-center"><strong>Time Life Adjustments</strong></th>
                                            </tr>
                                        </thead>
                                        <tbody class="text-center">
                                            <tr>
            
                                                <td>&nbsp;</td>
                                                <td colspan="4" class="text-center clr1"><strong>Cycles</strong></td>
                                                <td colspan="4" class="text-center clr2"><strong>Times</strong></td>
                                                <td colspan="4" class="text-center clr3"><strong>Last</strong></td>
                                            </tr>
                                            <tr>
            
                                                <td>Control Num</td>
                                                <td class="clr1">Since New</td>
                                                <td class="clr1">Since OVH</td>
                                                <td class="clr1">Since Insp</td>
                                                <td class="clr1">Since Repair</td>
                                                <td class="clr2">Since New</td>
                                                <td class="clr2">Since OVH</td>
                                                <td class="clr2">Since Insp</td>
                                                <td class="clr2">Since Repair</td>
                                                <td class="clr3">Since New</td>
                                                <td class="clr3">Since OVH</td>
                                                <td class="clr3">Since Insp</td>
                                            </tr>
                                            <tr>
                                                <td>{{stockLineForm.controlNumber}}</td>
                                                <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" name="cyclesSinceNew" [(ngModel)]="sourceTimeLife.cyclesSinceNew"></td>
                                                <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" name="cyclesSinceOVH" [(ngModel)]="sourceTimeLife.cyclesSinceOVH"></td>
                                                <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" name="cyclesSinceRepair" [(ngModel)]="sourceTimeLife.cyclesSinceRepair"></td>
                                                <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" name="cyclesSinceInspection" [(ngModel)]="sourceTimeLife.cyclesSinceInspection"></td>
                                                <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" name="timeSinceNew" [(ngModel)]="sourceTimeLife.timeSinceNew"></td>
                                                <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" name="timeSinceOVH" [(ngModel)]="sourceTimeLife.timeSinceOVH"></td>
                                                <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" name="timeSinceRepair" [(ngModel)]="sourceTimeLife.timeSinceRepair"></td>
                                                <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" name="timeSinceInspection" [(ngModel)]="sourceTimeLife.timeSinceInspection"></td>
                                                <td class="clr3"><input type="number" class="w60 form-control" placeholder="hours" name="lastSinceNew" [(ngModel)]="sourceTimeLife.lastSinceNew"></td>
                                                <td class="clr3"><input type="number" class="w60 form-control" placeholder="hours" name="lastSinceOVH" [(ngModel)]="sourceTimeLife.lastSinceOVH"></td>
                                                <td class="clr3"><input type="number" class="w60 form-control" placeholder="hours" name="lastSinceInspection" [(ngModel)]="sourceTimeLife.lastSinceInspection"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="clear"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row pull-right">
                    <button type="submit" class="btn btn-primary" (click)="onSaveStockLine()" [disabled]="!stockLineSetupForm.valid || disableMagmtStruct || disableCondition || disableSiteName">{{isEditMode ? 'Update' : 'Save'}}</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal fade" id="textarea-popup" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-sm" style="max-width: 400px !important;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Edit {{textAreaLabel}}</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>{{textAreaLabel}}</label>
                        <textarea class="form-control" name="textAreaInfo" [(ngModel)]="textAreaInfo" value={{textAreaInfo}}></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="onSaveTextAreaInfo()">Save</button>
                    <button type="button" class="btn btn-danger-cstm" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>




    <!-- <h4 class="page-heading clr-green">Stock Line Setup</h4>
    <div class="clear"></div>

    <form action="#" method="post" id="" name="" class="form-horizontal ro-grid-form mtop10">
        <div class="col-sm-6">
            <div class="col-sm-9">
                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Entity<span style="color:red">*</span></label>
                    <div class="col-sm-7">
                        <select [formControl]="stocklineCreationForm.controls['companyId']" (change)="getBUList($event.target.value)" required>
                            <option value="0">Select Legal Entity</option>
                            <option *ngFor="let managementStructure of maincompanylist" [ngValue]="managementStructure.managementStructureId">{{managementStructure.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-sm-12">
                    <label class="form-group control-label col-sm-4"></label>
                    <div class="col-sm-7">
                        <select [formControl]="stocklineCreationForm.controls['BusinessUnitId']" (change)="getDepartmentlist($event.target.value)">
                            <option value="0">Select BU</option>
                            <option *ngFor="let managementStructure of bulist" [ngValue]="managementStructure.managementStructureId">{{managementStructure.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-sm-12">
                    <label class="form-group control-label col-sm-4"></label>
                    <div class="col-sm-7">
                        <select [formControl]="stocklineCreationForm.controls['divisionId']" (change)="getDivisionlist($event.target.value)">
                            <option value="0">Select Div</option>
                            <option *ngFor="let managementStructure of departmentList " [ngValue]="managementStructure.managementStructureId">{{managementStructure.name}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-sm-12">
                    <label class="form-group control-label col-sm-4"></label>
                    <div class="col-sm-7">
                        <select [formControl]="stocklineCreationForm.controls['departmentId']" (change)="divisionChange(sourceStockLineSetup.divisionId)">
                            <option value="0">Select Dept</option>
                            <option *ngFor="let managementStructure of divisionlist " [ngValue]="managementStructure.managementStructureId">{{managementStructure.name}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">PN <strong class="clr-red">*</strong></label>
                    <div class="inner-addon col-sm-7  display-flex">
                        <p-autoComplete [(ngModel)]="sourceStockLineSetup.partNumber" (onKeyUp)=eventHandler($event) (onSelect)="partnmId($event)" [ngModelOptions]="{standalone: true}" [suggestions]="partCollection" (completeMethod)="filterpartItems($event)" [size]="30"
                                        [minLength]="1" [dropdown]="true">
                            <ng-template let-partName pTemplate="part">
                                <div class="ui-helper-clearfix">{{partName}}</div>
                            </ng-template>
                        </p-autoComplete>
                        <a style="margin-top:6px" routerLink="/itemmastersmodule/itemmasterpages/app-item-master-stock" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">PN Description</label>
                    <div class="col-sm-7">
                        <input [disabled]="true" class="form-control" type="text" id="" name="" autocomplete="off" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.partDescription">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Stock Line Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" [disabled]=true type="text" id="" value="Generating">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Control Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" [disabled]=true type="text" id="" value="Generating">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Id Number</label>
                    <div class="col-sm-7">
                        <input class="form-control" [disabled]=true type="text" id="" value="Generating">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Is Serialized</label>
                    <div class="col-sm-7">
                        <input class="form-control is-serialized-checkbox" [disabled]="true" type="checkbox" [ngModelOptions]="{standalone: true}" (change)="triggerSomeEvent()" [(ngModel)]="sourceStockLineSetup.isSerialized">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Qty On Hand <strong class="clr-red">*</strong></label>
                    <div class="col-sm-7">
                        <input class="form-control qty-input" *ngIf="showRestrictQuantity" type="number" maxlength="1" min="0" max="1" (change)="calculateQtyAvailable($event)" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.QuantityOnHand">
                        <input class="form-control qty-input" *ngIf="showFreeQuantity" (change)="calculateQtyAvailable($event)" type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.QuantityOnHand">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Qty Reserved </label>
                    <div class="col-sm-7">
                        <input class="form-control qty-input" type="number" [ngModelOptions]="{standalone: true}" (change)="calculateQtyAvailable($event)" [(ngModel)]="sourceStockLineSetup.QuantityReserved">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Qty Issued </label>
                    <div class="col-sm-7">
                        <input class="form-control qty-input" type="number" [ngModelOptions]="{standalone: true}" (change)="calculateQtyAvailable($event)" [(ngModel)]="sourceStockLineSetup.QuantityIssued">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Qty Available </label>
                    <div class="col-sm-7">
                        <input class="form-control qty-input" disabled="disabled" type="number" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.quantityAvailable">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Cond Type <strong class="clr-red">*</strong></label>
                    <div class="col-sm-7">
                        <select [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.conditionId">
                            <option *ngFor="let condition of allConditionInfo" [ngValue]="condition.conditionId">{{condition.description}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12 is-serialized-content" *ngIf="hideSerialNumber">
                    <label class="control-label col-sm-4">Serial Num <strong class="clr-red">*</strong></label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.serialNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Shelf Life</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="checkbox" [disabled]="true" [ngModelOptions]="{standalone: true}" (change)="triggerSomeEvent()" [(ngModel)]="sourceStockLineSetup.shelfLife">
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.shelfLife == 1">
                    <label class="control-label col-sm-4">Shelf Life Exp Date</label>
                    <div class="col-sm-7">
                        <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [minDate]="minDateValue" [(ngModel)]="sourceStockLineSetup.shelfLifeExpirationDate"></p-calendar>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Site <strong class="clr-red">*</strong></label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.siteId" [ngModelOptions]="{standalone: true}" (change)="siteValueChange($event.target.value)">
                            <option *ngFor="let site of allSites" [ngValue]="site.siteId">{{site.name}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Warehouse</label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.warehouseId" [ngModelOptions]="{standalone: true}" (change)="wareHouseValueChange(sourceStockLineSetup.warehouseId)">
                            <option *ngFor="let site of allWareHouses" [ngValue]="site.warehouseId">{{site.warehouseName}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Location</label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.locationId" [ngModelOptions]="{standalone: true}" (change)="locationValueChange(sourceStockLineSetup.locationId)">
                            <option *ngFor="let site of allLocations" [ngValue]="site.locationId">{{site.name}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Shelf</label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.shelfId" [ngModelOptions]="{standalone: true}" (change)="shelfValueChange(sourceStockLineSetup.shelfId)">
                            <option *ngFor="let site of allShelfs" [ngValue]="site.shelfId">{{site.name}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Bin</label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.binId" [ngModelOptions]="{standalone: true}" (change)="binValueSelect(sourceStockLineSetup.binId)">
                            <option *ngFor="let site of allBins" [ngValue]="site.binId">{{site.name}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Obtain From</label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.obtainFromType" [ngModelOptions]="{standalone: true}">
                            <option value="1">Customer</option>
                            <option value="2">Other </option>
                            <option value="3">Vendor</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.obtainFromType == 1">
                    <label class="control-label col-sm-4"></label>
                    <div class="inner-addon col-sm-7 inline-block display-flex" >
                        <select [(ngModel)]="sourceStockLineSetup.obtainFrom" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let customer of allCustomer" [ngValue]="customer.name">{{customer.name}}</option>
                        </select>
                        <a routerLink="/customersmodule/customerpages/app-customer-create" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.obtainFromType == 2">
                    <label class="control-label col-sm-4"></label>
                    <div class="col-sm-7" >
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.obtainFrom">
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.obtainFromType == 3">
                    <label class="control-label col-sm-4"></label>
                    <div class="inner-addon col-sm-7 inline-block display-flex">
                        <select [(ngModel)]="sourceStockLineSetup.obtainFrom" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let vendor of allVendorList" [ngValue]="vendor.vendorName">{{vendor.vendorName}}</option>
                        </select>
                        <a routerLink="/vendorsmodule/vendorpages/app-vendor-setup" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" for="owner">Owner</label>
                    <div class="col-sm-7">
                        <select id="owner" [(ngModel)]="sourceStockLineSetup.ownerType" [ngModelOptions]="{standalone: true}">
                            <option value="1">Customer</option>
                            <option value="2">Other </option>
                            <option value="3">Vendor</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.ownerType == 1">
                    <label class="control-label col-sm-4"></label>
                    <div class="inner-addon col-sm-7 inline-block display-flex">
                        <select [(ngModel)]="sourceStockLineSetup.owner" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let customer of allCustomer" [ngValue]="customer.name">{{customer.name}}</option>
                        </select>
                        <a routerLink="/customersmodule/customerpages/app-customer-create" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.ownerType== 2">
                    <label class="control-label col-sm-4"></label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.owner">
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.ownerType == 3">
                    <label class="control-label col-sm-4"></label>
                    <div class="inner-addon col-sm-7 inline-block display-flex">
                        <select [(ngModel)]="sourceStockLineSetup.owner" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let vendor of allVendorList" [ngValue]="vendor.vendorName">{{vendor.vendorName}}</option>
                        </select>
                        <a routerLink="/vendorsmodule/vendorpages/app-vendor-setup" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" for="tracebleTo">Traceble To</label>
                    <div class="col-sm-7">
                        <select id="tracebleTo" [(ngModel)]="sourceStockLineSetup.traceableToType" [ngModelOptions]="{standalone: true}">
                            <option [value]="1">Customer</option>
                            <option [value]="2">Other </option>
                            <option [value]="3">Vendor</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.traceableToType == 1">
                    <label class="control-label col-sm-4"></label>
                    <div class="inner-addon col-sm-7 inline-block display-flex" >
                        <select [(ngModel)]="sourceStockLineSetup.traceableTo" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let customer of allCustomer" [ngValue]="customer.name">{{customer.name}}</option>
                        </select>
                        <a routerLink="/customersmodule/customerpages/app-customer-create" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.traceableToType == 2">
                    <label class="control-label col-sm-4"></label>
                    <div class="col-sm-7" >
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.traceableTo">
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.traceableToType == 3">
                    <label class="control-label col-sm-4"></label>
                    <div class="inner-addon col-sm-7 inline-block display-flex" >
                        <select [(ngModel)]="sourceStockLineSetup.traceableTo" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let vendor of allVendorList" [ngValue]="vendor.vendorName">{{vendor.vendorName}}</option>
                        </select>
                        <a routerLink="/vendorsmodule/vendorpages/app-vendor-setup" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Mfg</label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.manufacturerId" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let manufacturer of allManufacturerInfo" [ngValue]="manufacturer.manufacturerId">{{manufacturer.name}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Mfg Lot Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.manufacturerLotNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12" *ngIf="sourceStockLineSetup.IsManufacturingDateAvailable == 1">
                    <label class="control-label col-sm-4">Mfg Date</label>
                    <div class="col-sm-7">
                        <p-calendar [showIcon]="true" [maxDate]="minDateValue" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.manufacturingDate"></p-calendar>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Mfg Batch Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.manufacturingBatchNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" matTooltip="Engine Serial Number" matTooltipPosition="above">ESN</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.EngineSerialNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" matTooltip="Export Control Classification Number" matTooltipPosition="above">ECCN</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.ExportECCN">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" matTooltip="International Traffic in Arms Regulations Number" matTooltipPosition="above">ITAR Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.ITARNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" matTooltip="Next Higher Assembly" matTooltipPosition="above">NHA</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.NHA">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" matTooltip="Top Level Assembly" matTooltipPosition="above">TLA</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.tla">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4" matTooltip="National Stock Number" matTooltipPosition="above">NSN</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.nationalStockNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Aircraft Tail Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.aircraftTailNumber">
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="col-sm-9">

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Part Cert Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.partCertificationNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Certify By</label>
                    <div class="inner-addon col-sm-7 display-flex">
                        <select [(ngModel)]="sourceStockLineSetup.certifiedBy" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let employee of allEmployeeList" [ngValue]="employee.firstName">{{employee.firstName}}{{ employee.lastName}}</option>
                        </select>
                        <a routerLink="/employeesmodule/employeepages/app-employee-general-information" class="add-icon"><i class="fa fa-plus"></i></a>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Certified Date</label>
                    <div class="col-sm-7">
                        <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [minDate]="minDateValue" [(ngModel)]="sourceStockLineSetup.certifiedDate"></p-calendar>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Tag Date</label>
                    <div class="col-sm-7">
                        <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [minDate]="minDateValue" [(ngModel)]="sourceStockLineSetup.tagDate"></p-calendar>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Tag Type</label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.tagType" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let tag of allTagTypes" [ngValue]="tag.tagTypeId">{{tag.name}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Certified Due Date</label>
                    <div class="col-sm-7">
                        <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.certifiedDueDate"></p-calendar>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">order Date</label>
                    <div class="col-sm-7">
                        <input [disabled]="true" class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.orderDate">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Open Date</label>
                    <div class="col-sm-7">
                        <input [disabled]="true" class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.openDate">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Days Since Received</label>
                    <div class="col-sm-7">
                        <input [disabled]="true" class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.daysReceived">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Days Since Mfg</label>
                    <div class="col-sm-7">
                        <input [disabled]="true" class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.manufacturingDays">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Days Since Tagged</label>
                    <div class="col-sm-7">
                        <input [disabled]="true" class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.tagDays">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Days Since Open</label>
                    <div class="col-sm-7">
                        <input [disabled]="true" class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.openDays">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Blacklisted</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.blackListed">
                    </div>
                </div>

                <label class="control-label col-sm-4"></label>
                <div class="inner-addon col-sm-7 display-flex" *ngIf="sourceStockLineSetup.blackListed == 1">
                    <div class="col-sm-7">
                        <textarea style="height: 100px;" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.blackListedReason"></textarea>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Incident</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.incident">
                    </div>
                </div>

                <label class="control-label col-sm-4"></label>
                <div class="inner-addon col-sm-7  display-flex" *ngIf="sourceStockLineSetup.incident == 1">
                    <div class="col-sm-7">
                        <textarea style="height: 100px;" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.incidentReason"></textarea>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Accident</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.accident">
                    </div>
                </div>

                <label class="control-label col-sm-4"></label>
                <div class="inner-addon col-sm-7 display-flex" *ngIf="sourceStockLineSetup.accident == 1">
                    <div class="col-sm-7">
                        <textarea style="height: 100px;" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.accidentReason"></textarea>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">PO Num </label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.purchaseOrderId" [ngModelOptions]="{standalone: true}" (change)="POValueChange(sourceStockLineSetup.purchaseOrderId)">
                            <option *ngFor="let po of allPolistInfo" [ngValue]="po.purchaseOrderId">{{po.purchaseOrderNumber}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">PO Unit Cost</label>
                    <div class="col-sm-7">
                        <input class="form-control" [disabled]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.purchaseOrderUnitCost">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">RO Num </label>
                    <div class="col-sm-7">
                        <select [(ngModel)]="sourceStockLineSetup.repairOrderId" [ngModelOptions]="{standalone: true}" (change)="ROValueChange(sourceStockLineSetup.repairOrderId)">
                            <option *ngFor="let manufacturer of allRolistInfo" [ngValue]="manufacturer.repairOrderId">{{manufacturer.repairOrderNumber}}
                        </select>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">RO Unit Cost</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [disabled]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.repairOrderUnitCost">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Received Date <strong class="clr-red">*</strong></label>
                    <div class="col-sm-7">
                        <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [minDate]="sourceStockLineSetup.orderDate" [(ngModel)]="sourceStockLineSetup.receivedDate"></p-calendar>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Receiver Num <strong class="clr-red">*</strong></label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.receiverNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Reconciliation Num</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.reconciliationNumber">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Unit Sale Price</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="number" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.unitSalesPrice">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Core Unit Cost</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="number" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.coreUnitCost">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Lot Cost</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="text" [disabled]="true">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">GL Account <strong class="clr-red">*</strong></label>
                    <div class="inner-addon col-sm-7">
                        <p-autoComplete [disabled]=true [(ngModel)]="sourceStockLineSetup.glAccountName" (onKeyUp)=glAccountHandler($event) (onSelect)="glAccountId($event)" [ngModelOptions]="{standalone: true}" [suggestions]="glAccountCollection" (completeMethod)="filterglAccount($event)" [size]="30"
                                        [minLength]="1" [dropdown]="true">
                            <ng-template let-glAccountId pTemplate="glAccount">
                                <div class="ui-helper-clearfix">{{sourceStockLineSetup.glAccountName}}</div>
                            </ng-template>
                        </p-autoComplete>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">PMA</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.isPMA">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">DER</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.isDER">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">OEM</label>
                    <div class="col-sm-7">
                        <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.oem">
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <div class="form-group col-sm-12 input-icon1">
                        <div class="inner-addon right-addon autosuggesions-add inline-block">
                        </div>

                        <div class="table-responsive">
                            <table class="table table-bordered table-striped table-sorting">
                                <thead>
                                    <tr align="center">
                                        <th>Services</th>
                                        <th>Listed</th>
                                        <th>Integrate With</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let col of allIntegrationInfo; let i = index;">

                                        <td>{{col.description}}</td>
                                        <td>
                                            <input type="checkbox" class=" wauto" [(ngModel)]="col.listedCheckbox" [ngModelOptions]="{standalone: true}" (click)="getSelectedItem(col,i)">
                                        </td>
                                        <td>
                                            <input type="checkbox" class=" wauto" [(ngModel)]="col.integratedCheckbox" [ngModelOptions]="{standalone: true}" (click)="saveSelectedModel(col,$event)">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label col-sm-4">Memo</label>
                    <div class="col-sm-7">
                        <textarea style="height: 100px;" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceStockLineSetup.memo">Memo</textarea>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12">
            <div class="form-group col-sm-12" *ngIf="this.sourceTimeLife.timeLife||this.sourceTimeLife.timeLifeCyclesId">
                <div class="col-sm-12">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped timelife-table">
                            <thead>
                                <tr>
                                    <th colspan="15" class="text-center"><strong>Time Life Adjustments</strong></th>
                                </tr>
                            </thead>
                            <tbody class="text-center">
                                <tr>

                                    <td>&nbsp;</td>
                                    <td colspan="4" class="text-center clr1"><strong>Cycles</strong></td>
                                    <td colspan="4" class="text-center clr2"><strong>Times</strong></td>
                                    <td colspan="4" class="text-center clr3"><strong>Last</strong></td>
                                </tr>
                                <tr>

                                    <td>Control Num</td>
                                    <td class="clr1">Since New</td>
                                    <td class="clr1">Since OVH</td>
                                    <td class="clr1">Since Insp</td>
                                    <td class="clr1">Since Repair</td>
                                    <td class="clr2">Since New</td>
                                    <td class="clr2">Since OVH</td>
                                    <td class="clr2">Since Insp</td>
                                    <td class="clr2">Since Repair</td>
                                    <td class="clr3">Since New</td>
                                    <td class="clr3">Since OVH</td>
                                    <td class="clr3">Since Insp</td>
                                </tr>
                                <tr>
                                    <td>{{sourceStockLineSetup.controlNumber}}</td>
                                    <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceNew"></td>
                                    <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceOVH"></td>
                                    <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceRepair"></td>
                                    <td class="clr1"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceInspection"></td>
                                    <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceNew"></td>
                                    <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceOVH"></td>
                                    <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceRepair"></td>
                                    <td class="clr2"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceInspection"></td>
                                    <td class="clr3"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.lastSinceNew"></td>
                                    <td class="clr3"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.lastSinceOVH"></td>
                                    <td class="clr3"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.lastSinceInspection"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-success pull-right submit-btn" [disabled]="disableSavepartNumber" (click)="savestockLineclose()">Save</button>
    </form> -->
</div>  


<!-- <p-dialog header="Error" [(visible)]="displayError" [modal]="true" [dismissableMask]="true" maximizedLeft="140px" maximizedTop="1850px"
          [width]="350" [minWidth]="200" [responsive]="true"
          [minY]="1050" [baseZIndex]="1100000">
    <p *ngIf="showCompanyError" [ngStyle]="{'color':'red'}"> Please Enter Company</p>
    <p *ngIf="showPartNumberError" [ngStyle]="{'color':'red'}"> Please Enter Part Number</p>
    <p *ngIf="showSerialNumberError" [ngStyle]="{'color':'red'}"> Please Enter Serial Number </p>
    <p *ngIf="showConditionError" [ngStyle]="{'color':'red'}"> Please Enter Condition</p>
    <p *ngIf="showSiteError" [ngStyle]="{'color':'red'}"> Please Select Site</p>
    <p *ngIf="showReceiveDateError" [ngStyle]="{'color':'red'}"> Please Select Receive Date</p>
    <p *ngIf="showReceiverNumberError" [ngStyle]="{'color':'red'}"> Please Enter receive Number</p>
    <p *ngIf="QuantityOnHandError" [ngStyle]="{'color':'red'}"> Please Enter Quantity On Hand</p>
    <p *ngIf="invalidQtyError" [ngStyle]="{'color':'red'}"> Available Quantity must be positive number</p>

</p-dialog> -->
