<div class="card">
  <div class="col-sm-12 font-padding">
    <div class="col-sm-2">Customer Name: <span style="color:red">{{customerName}}</span></div>
    <div class="col-sm-3">Customer Code: <span style="color:red">{{customerCode}}</span></div>
  </div>
  <div class="col-md-12">
    <div class="col-md-12 ">
      <div class="shadow-Box">
        <div class="col-sm-12">
          <h4 class="float-left">Search Aircraft Information</h4>
          <h4 class="float-right">
            Add Inventory
            <a
              class="plusicon-cstm"
              href="#"
              data-toggle="modal"
              data-target="#addInventory"
              ><i class="fa fa-plus-circle fa-lg"></i
            ></a>
          </h4>
        </div>
        <div class="col-md-3">
          <div class="form-group ">
            <label class="fs12">Aircraft </label>
            <p-dropdown
              [options]="manufacturerData"
              name="searchAircraft"
              class="p-dropdown-custom "
              [(ngModel)]="selectAircraftManfacturer"
              (onChange)="getAircraftModelByManfacturerType($event.value)"
                      
            ></p-dropdown>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label class="fs12">
              Aircraft Model
            </label>
            <p-multiSelect
              [maxSelectedLabels]="2"
              [options]="search_AircraftModelList"
              [(ngModel)]="selectedAircraftModel"
              [ngModelOptions]="{ standalone: true }"
              class="pub-multi"
              (onChange)="getDashNumberByManfacturerandModel()"
              [selectionLimit]="30"
            ></p-multiSelect>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label class="fs12">DashNumber </label>
            <p-multiSelect
              [maxSelectedLabels]="2"
              [options]="search_AircraftDashNumberList"
              [(ngModel)]="selectedDashNumbers"
              [ngModelOptions]="{ standalone: true }"
              class="pub-multi"
              [selectionLimit]="30"
            ></p-multiSelect>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label class="fs12">Memo </label>
            <input type="text" style="height: 27px !important" pInputText [(ngModel)]="selectedmemo" />
          </div>
        </div>
        <div class="col-md-1 add-new-align">
          <div class="form-group">
            <button
              class="btn btn-primary mtop20"
              (click)="searchAircraftInformation()"
                     matTooltip="Search"
            >
              <i class="pi pi-search pi-search"></i>
            </button>
          </div>
        </div>
        <div class="clear"></div>
      </div>
    </div>
  </div>
</div>

<br />
<div class="card">
  <p-table
    [value]="aircraftListDataValues"
    [rows]="6"
    [columns]="colsaircraftLD"
    [scrollable]="true"
    [style]="{ width: '100%' }"
    [paginator]="true"
  >
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th>Id</th>
        <th *ngFor="let col of columns">
          {{ col.header }}
        </th>
        <th>Action</th>
      </tr>
    </ng-template>
    <ng-template
      pTemplate="body"
      let-i="rowIndex"
      let-rowData
      let-columns="columns"
    >
      <tr>
        <td>{{ i + 1 }}</td>
        <td *ngFor="let col of columns">
          {{ rowData[col.field] }}
        </td>
        <td>
            <button class="btn-edit" mat-icon-button (click)="editAirCraft(rowData)" matTooltip="edit" data-toggle="modal" data-target="#editAirCraftDetails">
                <mat-icon>edit</mat-icon>
            </button>
            <button class="btn btn-danger nobg"
                    (click)="
              deleteAircraftMappedInventory(deleteContent,rowData.customerAircraftMappingId)
            "
                    matTooltip="Delete">
                <i class="fa fa-trash"></i>
            </button>
        </td>
      </tr>
    </ng-template>
  </p-table>
  <br />
  <div>
    <button
      type="button"
      class="btn btn-primary-cstm pull-right submit-btn"
      (click)="nextClick()"
    >
      Next
    </button>
    <button
      type="button"
      class="btn btn-primary-cstm pull-right submit-btn"
      (click)="backClick()"
    >
      Previous
    </button>
  </div>
</div>

<div id="addInventory" class="modal fade custom-popup" role="dialog" data-backdrop="static">
  <div class="modal-dialog modal-full">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">Ã—</button>
        <h4 class="modal-title">Add Inventory</h4>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="col-md-3">
            <div class="form-group">
              <label class="popup-plusicon-cstm"
                >Aircraft Type
                <a
                  data-dismiss="modal"
                  [routerLink]="[
                    '/singlepages/singlepages/app-aircraft-manufacturer'
                  ]"
                  ><i class="fa fa-plus-circle fa-lg"></i></a
              ></label>
              <p-dropdown
                class="imstock-pddowm"
                [options]="manufacturerData"
                filter="true"
                [ngModelOptions]="{ standalone: true }"
                [(ngModel)]="add_SelectedAircraftId"
                (onChange)="getAircraftModelByManfacturer($event)"
                placeholder="Select Aircraft"
                [showClear]="true"
              ></p-dropdown>
            </div>
          </div>

          <div class="col-md-4">
            <div class="form-group">
              <label
                class="popup-plusicon-cstm"
                style="width: 150px !important"
              >
                Model
                <a
                  data-dismiss="modal"
                  [routerLink]="['/singlepages/singlepages/app-aircraft-model']"
                  ><i class="fa fa-plus-circle fa-lg"></i
                ></a>
                <input
                  type="checkbox"
                  name="unknownmodel"
                  [(ngModel)]="modelUnknown"
                  style="width: 20px !important;
                        margin-left: 7px; "
                  (change)="resetAircraftModelsorDashNumbers()"
                />
                Unknown
              </label>

              <p-multiSelect
                *ngIf="!modelUnknown"
                [maxSelectedLabels]="2"
                [disabled]="!add_SelectedAircraftId"
                class="imstock-pmselect"
                [options]="add_AircraftModelList"
                [(ngModel)]="add_SelectedModel"
                name="ModelsPopup"
                (onChange)="getDashNumberByTypeandModel($event)"
              ></p-multiSelect>
            </div>
          </div>
          <div class="col-md-3" *ngIf="!modelUnknown">
            <div class="form-group">
              <label
                class="popup-plusicon-cstm"
                style="width: 190px !important"
              >
                DashNumber
                <a
                  data-dismiss="modal"
                  [routerLink]="['/singlepages/singlepages/app-dashnumber']"
                  ><i class="fa fa-plus-circle fa-lg"></i
                ></a>
                <input
                  type="checkbox"
                  name="unknownDashNumber"
                  [(ngModel)]="dashNumberUnknown"
                  style="width: 20px !important;
                  margin-left: 7px; "
                  (change)="resetAircraftModelsorDashNumbers()"
                />
                Unknown
              </label>

              <p-multiSelect
                *ngIf="!modelUnknown && !dashNumberUnknown"
                [maxSelectedLabels]="2"
                [disabled]="!add_SelectedAircraftId"
                class="imstock-pmselect"
                [options]="add_AircraftDashNumberList"
                [(ngModel)]="add_SelectedDashNumber"
                name="dashNumbersPopup"
                (onChange)="selectedDashnumbervalue($event)"
              ></p-multiSelect>
            </div>
          </div>
          <div class="col-md-2">
            <button
              style="margin-top: 20px;"
              type="button"
              class="btn btn-primary-cstm"
              (click)="mapAircraftInventory()"
            >
              Add
            </button>
          </div>
        </div>

        <div class="card">
          <p-table
            class="p-table-padding"
            [value]="inventoryData"
            [rows]="6"
            [columns]="colaircraft"
            [scrollable]="true"
            [style]="{ width: '100%' }"
            [paginator]="true"
          >
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th>Selected</th>
                <th *ngFor="let col of columns">
                  {{ col.header }}
                </th>
                <th>Inventory</th>
                <th>Memo</th>
              </tr>
            </ng-template>
            <ng-template
              pTemplate="body"
              let-i="rowIndex"
              let-rowData
              let-columns="columns"
            >
              <tr>
                <td>
                  <span class="checkbox-cstm">
                    <label>
                      <input type="checkbox" [(ngModel)]="rowData.IsChecked" />

                      <span class="cr"
                        ><i class="cr-icon pi pi-check"></i
                      ></span>
                    </label>
                  </span>
                </td>

                <td *ngFor="let col of columns">
                  {{ rowData[col.field] }}
                </td>
                <td>
                  <input
                    type="number"
                    class="form-control input-value"
                    [(ngModel)]="rowData.Inventory"
                    name="Inventory"
                  />
                </td>
                <td>
                  <input
                    type="text"
                    class="form-control input-value"
                    [(ngModel)]="rowData.Memo"
                    name="Memo"
                    [disabled]="!rowData.IsChecked"
                  />
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-primary-cstm"
          data-dismiss="modal"
          (click)="saveAircraft()"
        >
          Save
        </button>
        <button type="button" class="btn btn-danger-cstm" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editAirCraftDetails" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Edit Inventory Details</h4>
                <div class="col-sm-12 font-padding">
                    <div class="col-sm-3">Aircraft: <span style="color:red">{{editAirCraftData.aircraftType}}</span></div>
                    <div class="col-sm-3">Model: <span style="color:red">{{editAirCraftData.aircraftModel}}</span></div>
                    <div class="col-sm-3">Dash Number: <span style="color:red">{{editAirCraftData.dashNumber}}</span></div>
                </div>

            </div>
            <form #ccForm="ngForm" #editAirCraftForm="ngForm" class="form-horizontal">
                <div class="modal-body">
                    <div class="form-row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="tag">Inventory <span class="clr-red">*</span></label>
                                <input type="text" class="form-control" [(ngModel)]="editAirCraftData.inventory" name="tag" required>

                            </div>
                            <div class="form-group">
                                <label>Memo</label>
                                <!--<input class="form-control" type="text" name="notes" [(ngModel)]="contactInformation.notes">-->
                                <textarea name="notes" [(ngModel)]="editAirCraftData.memo"  placeholder="Tool Bar"></textarea>
                            </div>

                        </div>
                      
                    </div>
                </div>
                <div class="modal-footer">
                     <button type="button"  class="btn btn-primary-cstm pull-right submit-btn" style="text-align:center" (click)="updateCustomerAircraft()"  data-dismiss="modal">Update</button>
                    <button type="button" class="btn btn-danger-cstm" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>

    </div>
</div>
<ng-template #deleteContent let-c="close" let-d="dismiss" data-backdrop="static">
    <div class="modal-header">
        <h4 class="modal-title">Are You Sure Want to Delete?</h4>
        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="deleteItemAndCloseModel()">Yes</button>
        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
    </div>
</ng-template>
