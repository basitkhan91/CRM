﻿<div class="card">
    <div class="card-body">
        <div class="inline-block display-flex">
            <h3 class="po-head lead">Customer List</h3>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <a matTooltip="Create Customer"
               class="plusicon-cstm new-margin"
               [routerLink]="[
                '/customersmodule/customerpages/app-customer-create'
              ]">
                <i class="fa fa-plus-circle fa-lg"></i>
            </a>
        </div>
        <p-table #dt
                 class="rpo-table-cstm rro-table-cstm"
                 [value]="data"
                 [first]="0"
                 [rows]="pageSize"
                 [paginator]="true"
                 [pageLinks]="3"
                 [rowsPerPageOptions]="[10, 20, 50, 100]"
                 [columns]="selectedColumns"
                 selectionMode="multiple"
                 [lazy]="true"
                 (onLazyLoad)="loadData($event)"
                 [resizableColumns]="true"
                 [reorderableColumns]="true"
                 [totalRecords]="totalRecords"
                 [scrollable]="true" scrollHeight="450px">
            <ng-template pTemplate="caption">
                <div style="text-align: right;margin-left:-6px !important; min-height: 30px;">
                    <p-multiSelect [maxSelectedLabels]="2"
                                   [options]="headers"
                                   optionLabel="header"
                                   [(ngModel)]="selectedColumns"
                                   [style]="{ minWidth: '220px' }"
                                   style="float:left"
                                   (onChange)="columnsChanges()"></p-multiSelect>

                    <div style=" left: -10px;"
                         class="inner-addon right-addon w50 inline-block  g-filter-search-cstm">
                        <i class="fa fa-search"></i>
                        <input type="text"
                               pInputText
                               size="50"
                               class="form-control ui-autocomplete-input"
                               (input)="globalSearch($event.target.value)"
                               placeholder="Filter" />
                    </div>
                    <button type="button"
                            class="btn btn-primary-cstm "
                            matTooltip="Download Data" matTooltipPosition="above"
                            pButton
                            icon="fa-download"
                            iconPos="left"
                            label="Export Data"
                            style="left:-10px;"
                            (click)="dt.exportCSV()"></button>
                    <button type="button"
                            class="btn btn-primary-cstm "
                            matTooltip="Download Selected Data" matTooltipPosition="above"
                            pButton
                            icon="fa-download"
                            iconPos="left"
                            label="Export Selected Data"
                            style="left:-10px;"
                            (click)="dt.exportCSV({ selectionOnly: true })"></button>
                    <button type="button"
                            class="btn btn-primary-cstm "
                            matTooltip="Refresh Data" matTooltipPosition="above"
                            pButton
                            icon="fa-refresh"
                            iconPos="left"
                            label="Refresh"
                            style="left:-10px;"
                            (click)="refreshList();"></button>
                </div>
            </ng-template>
            <ng-template pTemplate="colgroup" let-columns>
                <colgroup>
                    <col *ngFor="let col of columns" style="width:130px">
                </colgroup>
            </ng-template>

            <ng-template pTemplate="header" let-columns>
                <tr>

                    <th style="width:120px"
                        *ngFor="let col of columns"
                        pResizableColumn
                        pReorderableColumn
                        [pSortableColumn]="col.field">
                        {{ col.header }}
                        <p-sortIcon [field]="col.field"></p-sortIcon>
                    </th>
                    <th style="width:200px;position:sticky"
                        *ngIf="selectedColumns.length > 0">
                        Actions
                    </th>
                </tr>
                <tr>
                    <th style="width:120px" *ngFor="let col of columns" [ngSwitch]="col.field">
                        <input style="width:100%;" pInputText type="text" (input)="dt.filter($event.target.value, col.field, 'contains')">
                    </th>
                    <th style="width:200px;position:sticky"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-columns="columns">
                <tr [pSelectableRowDblClick]="rowData" [pSelectableRow]="rowData" pReorderableRowHandle (dblclick)="viewSelectedRowdbl(viewdbl,rowData)">
                    <td style="width:120px"
                        *ngFor="let col of columns"
                        class="ui-resizable-column"
                        pReorderableRowHandle>
                        {{
              col.field == 'createdDate'
                ? (rowData[col.field] | date: 'MM/dd/yyyy')
                : rowData[col.field] && col.field == 'updatedDate'
                ? (rowData[col.field] | date: 'MM/dd/yyyy')
                : rowData[col.field]
                        }}
                    </td>
                    <td style="width:200px" *ngIf="selectedColumns.length > 0">

                        <p-inputSwitch *ngIf="rowData['isActive']==true" matTooltip="Active" onLabel="on" offLabel="off" (onChange)="changeStatus(rowData)" [(ngModel)]="rowData['isActive']"></p-inputSwitch>
                        <p-inputSwitch *ngIf="rowData['isActive']==false" matTooltip="In Active" onLabel="on" offLabel="off" (onChange)="changeStatus(rowData)" [(ngModel)]="rowData['isActive']"></p-inputSwitch>
                        <p-inputSwitch *ngIf="rowData['isActive']==null" matTooltip="In Active" onLabel="on" offLabel="off" (onChange)="changeStatus(rowData)" [(ngModel)]="rowData['isActive']"></p-inputSwitch>

                        <span>
                            <a class="btn btn-info boxed-float-btn nobg"
                               data-toggle="tooltip"
                               (click)="viewSelectedRowdbl(viewdbl,rowData)"
                               matTooltip="View">
                                <i class="fa fa-eye"></i>
                            </a>
                        </span>
                        <button class="btn-edit"
                                mat-icon-button
                                (click)="edit(rowData)"
                                matTooltip="Edit">
                            <mat-icon>edit</mat-icon>
                        </button>
                        <i class="fa fa-users" mat-icon-button matTooltip="Contacts"
                           (click)="openContactList(contentcontact,rowData)">

                        </i>
                        <button class="btn-delete"
                                mat-icon-button
                                matTooltip="Delete"
                                data-target="#delete"
                                data-toggle="modal"
                                (click)="delete(content1,rowData)">
                            <mat-icon color="warn">delete</mat-icon>
                        </button>
                        <button class="btn-history"
                                mat-icon-button
                                matTooltip="History"
                                data-target="#contentAuditHist"
                                data-toggle="modal"
                                (click)="getAuditHistoryById(contentAuditHist,rowData)">
                            <mat-icon color="green">history</mat-icon>
                        </button>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="summary" id="footer">
                <label id="footer" class="footer">No'of records:</label>
                <input style="width: 5%;"
                       [(ngModel)]="totalRecords"
                       [disabled]="true"
                       pInputText
                       type="text" />
                &nbsp;&nbsp;
                <label id="footer" class="footer1">Pages Count:</label>
                <input style="width: 5%;"
                       [(ngModel)]="totalPages"
                       [disabled]="true"
                       pInputText
                       type="text" />
            </ng-template>
        </p-table>
    </div>
</div>


 <ng-template #viewdbl class="modal fade " id="viewdbl" role="dialog" >
     <div role="dialog">
         <div class="modal-dialog modal-lg">
             <!-- Modal content-->
             <div class="modal-content">
                 <div class="modal-header">
                     <button type="button" class="close" (click)="dismissModel()">
                         &times;
                     </button>
                     <h4 class="modal-title">Details of Customer</h4>

                 </div>
                 <div class="modal-body" *ngIf="viewDataGeneralInformation">
                     <div class="panel-group" id="accordion">
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title">
                                     <div>
                                         <button type="button" class="btn btn-success" (click)="dblExpandAllCustomerDetailsModel()">Open All</button>
                                         <button type="button" class="btn btn-info" (click)="dblCloseAllCustomerDetailsModel()">Close All</button>

                                     </div>
                                     <br>
                                     <a data-toggle="collapse" href="#step11">General Info</a>
                                 </h4>
                             </div>
                             <div id="step11" class="panel-collapse collapse in show">
                                 <div class="panel-body">
                                     <div class="modal-content">
                                         <div class="table-responsive default-bg clear">
                                             <div class="col-sm-6">
                                                 <p>
                                                     <span class="label"><b>Customer Name: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.name
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Customer Code: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.customerCode
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Internal/External: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.accountType
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>D/b/a: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.doingBuinessAsName
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Parent: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.customerParentName
                                                         }}
                                                     </span>
                                                 </p>

                                                 <p>
                                                     <span class="label"><b>Address 1: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.address1
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Address 2: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.address2
                                                         }}
                                                     </span>
                                                 </p>

                                                 <p>
                                                     <span class="label"><b>City: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.city
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>State/Province: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.stateOrProvince
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Postal: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.postalCode
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Country: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.countryName
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Phone: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.customerPhone
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Email: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.email
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Is Address For Billing: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.isAddressForBilling
                                                         }}
                                                     </span>
                                                 </p>

                                                 <p>
                                                     <span class="label"><b>Is Address For Shipping: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.isAddressForShipping
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Is Customer Also Vendor: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.isCustomerAlsoVendor
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Is PBH Customer: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.isPBHCustomer
                                                         }}
                                                     </span>

                                                     <span class="label"><b>PBH Customer:</b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.pbhCustomerMemo
                                                         }}
                                                     </span>

                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Created By: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.createdBy
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Updated By: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.updatedBy
                                                         }}
                                                     </span>

                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Updated Date: </b></span><span class="value">
                                                         {{viewDataGeneralInformation.updatedDate | date: 'dd-MM-yyyy h:mm a '}}

                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Created Date: </b></span><span class="value">
                                                         {{viewDataGeneralInformation.createdDate | date: 'dd-MM-yyyy h:mm a '}}

                                                     </span>
                                                 </p>
                                             </div>
                                             <div class="col-sm-6">
                                                 <p>
                                                     <span class="label"><b>Classification: </b></span><span class="value">

                                                         {{viewDataclassification}}
                                                     </span>

                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Integration With: </b></span><span class="value">

                                                         {{viewDataIntegration}}

                                                     </span>
                                                 </p>

                                                 <p>
                                                     <span class="label"><b>Contract Ref: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.contractReference
                                                         }}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>URL to Customer site: </b></span><span class="value">
                                                         {{viewDataGeneralInformation.customerURL}}
                                                     </span>
                                                 </p>
                                                 <p>
                                                     <span class="label"><b>Restrict PMA: </b></span><span class="value">
                                                         {{
                          viewDataGeneralInformation.restrictPMA
                                                         }}
                                                     </span>
                                                 </p>
                                                 <div>

                                                     <p-table class="rpo-table-cstm"
                                                              [columns]="customerPMAColumns"
                                                              [value]="restrictedPMAParts"
                                                              [paginator]="true"
                                                              [rows]="4"
                                                              [first]="first">
                                                         <ng-template pTemplate="header" let-columns>
                                                             <tr>

                                                                 <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                                     {{ col.header }}
                                                                 </th>
                                                             </tr>
                                                         </ng-template>
                                                         <ng-template pTemplate="body"
                                                                      let-rowData
                                                                      let-columns="columns"
                                                                      let-rowIndex="rowIndex">
                                                             <tr>

                                                                 <td *ngFor="let col of columns">
                                                                     {{ rowData[col.field] }}
                                                                 </td>
                                                             </tr>
                                                         </ng-template>
                                                     </p-table>
                                                 </div>

                                                 <p>
                                                     <span class="label"><b>Restrict DER: </b></span><span class="value">
                                                         {{viewDataGeneralInformation.restrictBER}}
                                                     </span>
                                                 </p>
                                                 <div>
                                                     <p-table class="rpo-table-cstm"
                                                              [columns]="customerDERColumns"
                                                              [value]="restrictedDERParts"
                                                              [paginator]="true"
                                                              [rows]="4"
                                                              [first]="first">
                                                         <ng-template pTemplate="header" let-columns>
                                                             <tr>

                                                                 <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                                     {{ col.header }}
                                                                 </th>
                                                             </tr>
                                                         </ng-template>
                                                         <ng-template pTemplate="body"
                                                                      let-rowData
                                                                      let-columns="columns"
                                                                      let-rowIndex="rowIndex">
                                                             <tr>

                                                                 <td *ngFor="let col of columns">
                                                                     {{ rowData[col.field] }}
                                                                 </td>
                                                             </tr>
                                                         </ng-template>
                                                     </p-table>

                                                 </div>

                                             </div>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step12">Contact</a> </h4>
                             </div>
                             <div id="step12" class="panel-collapse  collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-12">
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="customerContactsColumns"
                                                      [value]="customerContacts"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field] }}
                                                         </td>
                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step13">Aircraft Info</a> </h4>
                             </div>
                             <div id="step13" class="panel-collapse  collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-12">
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="colsaircraftLD"
                                                      [value]="aircraftListDataValues"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field] }}
                                                         </td>
                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step14">ATA Info</a> </h4>
                             </div>
                             <div id="step14" class="panel-collapse  collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-12">
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="ataHeaders"
                                                      [value]="ataListDataValues"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field] }}
                                                         </td>
                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step15">Financial Info</a> </h4>
                             </div>
                             <div id="step15" class="panel-collapse collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-6">
                                         <p><span class="label"><b>MarkUp %: </b></span><span class="value">{{viewDataGeneralInformation.markUpPercentage}}</span></p>
                                         <p><span class="label"><b>Credit Limit:: </b></span><span class="value">{{viewDataGeneralInformation.creditLimit}}</span></p>
                                         <p><span class="label"><b>Credit Terms: </b></span><span class="value">{{viewDataGeneralInformation.creditTermsName}}</span></p>
                                         <p><span class="label"><b>Allow Netting of AP/AR: </b></span><span class="value">{{viewDataGeneralInformation.allowNettingOfAPAR}}</span></p>
                                         <p><span class="label"><b>Allow Partial Billing: </b></span><span class="value">{{viewDataGeneralInformation.allowPartialBilling}}</span></p>
                                         <p><span class="label"><b>Allow ProForma Billing: </b></span><span class="value">{{viewDataGeneralInformation.allowProformaBilling}}</span></p>

                                         <p><span class="label"><b>Tax Rate - State/Prov: </b></span><span class="value">{{viewDataGeneralInformation.taxRateName}}</span></p>
                                         <p><span class="label"><b>Tax Rate - Other: </b></span><span class="value">{{viewDataGeneralInformation.taxRateOther}}</span></p>
                                     </div>
                                     <div class="col-sm-6">
                                         <p><span class="label"><b>Taxable Exempt: </b></span><span class="value">{{viewDataGeneralInformation.isTaxExempt}}</span></p>
                                         <div class="table-responsive table-overflow">
                                             <h5 class="panel-title">Attachment Details:</h5>
                                             <table class="table table-bordered ">
                                                 <thead>
                                                     <tr>
                                                         <th>File Name</th>
                                                         <th>Download</th>

                                                     </tr>
                                                 </thead>
                                                 <tbody *ngFor="let f of allCustomerFinanceDocumentsList">
                                                     <tr *ngIf="f.description == 'customerTaxExemptFile'">
                                                         <td>{{f.fileName}}</td>
                                                         <td><a (click)="downloadFileUpload(f)" matTooltip="Download" class="btn nobg btn-cstm"><span><i class="fa fa-download"></i></span></a> </td>

                                                     </tr>
                                                 </tbody>

                                             </table>

                                         </div>




                                     </div>
                                     <div class="col-sm-6">
                                         <p><span class="label"><b>Currency: </b></span><span class="value">{{viewDataGeneralInformation.currency}}</span></p>

                                         <p-table [value]="taxTypeRateMapping" [paginator]="true" [rows]="3" *ngIf="taxTypeRateMapping">
                                             <ng-template pTemplate="header">
                                                 <tr>
                                                     <!-- <th>S.No</th> -->
                                                     <th>TaxType</th>
                                                     <th>TaxRate</th>

                                                 </tr>
                                             </ng-template>
                                             <ng-template pTemplate="body" let-t>
                                                 <tr>

                                                     <!-- {{($index + 1) + (currentPage - 1) * itemsPerPage}} -->
                                                     <!-- <td>  {{(0 + 1) + (1 - 1) * 3}} </td> -->

                                                     <td>{{t.taxType}}</td>
                                                     <td>{{t.taxRate}}</td>
                                                 </tr>
                                             </ng-template>
                                         </p-table>

                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step16">Bill Information</a> </h4>
                             </div>
                             <div id="step16" class="panel-collapse  collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-12">
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="billingInfoTableHeaders"
                                                      [value]="billingInfoList"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field] }}
                                                         </td>
                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step17">Shipping Information</a> </h4>
                             </div>
                             <div id="step17" class="panel-collapse  collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-12">
                                         <h4> Shipping Site Info List </h4>
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="domesticShippingHeaders"
                                                      [value]="domesticShippingData"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                       

                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field] }}
                                                         </td>
                                                      
                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>

                                     <div class="col-sm-12">
                                         <h4> International Shipping Details </h4>
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="internationalShippingHeaders"
                                                      [value]="internationalShippingData"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                        
                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field]}}

                                                         </td>
                                                             

                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>
                                 </div>
                             </div>

                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step18">Sales Person/Agent Info</a> </h4>
                             </div>
                             <div id="step18" class="panel-collapse collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-10">
                                         <p><span class="label"><b>Primary Sales Person Name: </b></span><span class="value">{{viewDataGeneralInformation.primarySalesPersonFirstName}}</span></p>
                                         <p><span class="label"><b>Secondary Sales Person Name: </b></span><span class="value">{{viewDataGeneralInformation.secondarySalesPersonName}}</span></p>
                                         <p><span class="label"><b>CSR Name: </b></span><span class="value">{{viewDataGeneralInformation.csrName}}</span></p>
                                         <p><span class="label"><b>Agent Name: </b></span><span class="value">{{viewDataGeneralInformation.agentName}}</span></p>
                                         <p><span class="label"><b>Annual Quota  : </b></span><span class="value">{{viewDataGeneralInformation.annualQuota}}</span></p>
                                         <p><span class="label"><b>Annual Revenue Potential: </b></span><span class="value">{{viewDataGeneralInformation.annualRevenuePotential}}</span></p>

                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step19">Warnings</a> </h4>
                             </div>
                             <div id="step19" class="panel-collapse  collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-12">
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="warningHeaders"
                                                      [value]="waringInfoList"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field] }}
                                                         </td>
                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                         <div class="panel panel-default">
                             <div class="panel-heading">
                                 <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step20">Documents</a> </h4>
                             </div>
                             <div id="step20" class="panel-collapse  collapse">
                                 <div class="panel-body">
                                     <div class="col-sm-12">
                                         <div class="shadow-Box">
                                             <p-table class="rpo-table-cstm"
                                                      [columns]="customerDocumentsColumns"
                                                      [value]="DocumentsList"
                                                      [paginator]="true"
                                                      [rows]="10"
                                                      [first]="first">
                                                 <ng-template pTemplate="header" let-columns>
                                                     <tr>

                                                         <th style="padding: 8px 5px !important;" *ngFor="let col of columns">
                                                             {{ col.header }}
                                                         </th>
                                                     </tr>
                                                 </ng-template>
                                                 <ng-template pTemplate="body"
                                                              let-rowData
                                                              let-columns="columns"
                                                              let-rowIndex="rowIndex">
                                                     <tr>

                                                         <td *ngFor="let col of columns">
                                                             {{ rowData[col.field] }}
                                                         </td>
                                                     </tr>
                                                 </ng-template>
                                             </p-table>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>

                     </div>
                 </div>


                 <div class="modal-footer">
                     <button type="button" class="btn btn-default" (click)="dismissModel()">
                         Close
                     </button>
                 </div>
             </div>
         </div>

     </div>
   
 </ng-template>

<ng-template #contentcontact let-c="close" let-d="dismiss" class="modal fade" role="dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" (click)="dismissModel()" data-dismiss="modal" id="" name="">×</button>
            <h4 class="modal-title"> Contacts of {{this.selectedRow['name']}}</h4>
        </div>
        <div class="modal-body viewform">
            <p-table class="table-responsive" #dt *ngIf="allContacts.length > 0" [value]="allContacts" [metaKeySelection]="true" [rows]="10" [paginator]="true"
                     [pageLinks]="3" [rowsPerPageOptions]="[10,20,50,100]" [columns]="selectedContactColumns"
                     [resizableColumns]="true" [reorderableColumns]="true">
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th *ngFor="let col of columns" pResizableColumn pReorderableColumn
                            [pSortableColumn]="col.field">
                            {{col.header}}
                            <p-sortIcon [field]="col.field"></p-sortIcon>
                        </th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-rowData let-columns="columns">
                    <tr [pSelectableRow]="rowData" (dblclick)="toggledbldisplay(rowData)">
                        <td *ngFor="let col of columns" class="ui-resizable-column" pReorderableRowHandle>
                            {{col.field == 'createdDate'?  (rowData[col.field] | date: 'MM/dd/yyyy'):rowData[col.field] && col.field == 'updatedDate'?  (rowData[col.field] | date: 'MM/dd/yyyy'):rowData[col.field]}}
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <div class="contact-no-record" *ngIf="allContacts.length == 0">
                No Records found
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger-cstm" data-dismiss="modal" (click)="dismissModel()">Close</button>
        </div>
    </div>
</ng-template>



<ng-template #content1 let-c="close" let-d="dismiss" data-backdrop="static">

    <div class="modal-header">
        <h4 class="modal-title">Are You Sure Want to Delete?</h4>

        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <strong>
            Customer Name:
            <span class="new-label">{{selectedRowforDelete.name}}</span>
        </strong>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="deleteItemAndCloseModel()">Yes</button>
        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
    </div>
</ng-template>
<ng-template #contentAuditHist let-c="close" let-d="dismiss" style="width:auto" data-backdrop="static">
    <!--<div #contentAuditHist id="contentAuditHist" class="modal fade">-->
    <div class="modal-header">

        <h4 class="modal-title">History of Customer</h4>
        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
            <span aria-hidden="true">&times;</span>
        </button>


    </div>
    <div class="modal-body">

        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Customer Name</th>
                        <th>Customer Code</th>
                        <th>Customer Phone</th>
                        <th>Customer Email</th>
                        <th>Address1</th>
                        <th>Address2</th>
                        <th>Customer City</th>
                        <th>Customer State</th>
                        <th>Postal Code</th>
                        <th>Country</th>
                        <th>Is Active</th>
                        <th>Updated By</th>
                        <th>Last Updated Time</th>
                        <th>Created By</th>
                        <th>Created Time</th>

                    </tr>
                </thead>
              

                <tr *ngFor="let audit of customerauditHisory; let i = index;">
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'name', audit.name)  ? 'black' : 'red'  }">{{audit.name}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'customerCode', audit.customerCode)  ? 'black' : 'red'  }">{{audit.customerCode}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'customerPhone', audit.customerPhone)  ? 'black' : 'red'  }">{{audit.customerPhone}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'email', audit.email)  ? 'black' : 'red'  }">{{audit.email}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'address1', audit.address1)  ? 'black' : 'red'  }">{{audit.address1}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'address2', audit.address2)  ? 'black' : 'red'  }">{{audit.address2}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'city', audit.city)  ? 'black' : 'red'  }">{{audit.city}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'stateOrProvince', audit.stateOrProvince)  ? 'black' : 'red'  }">{{audit.stateOrProvince}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'postalCode', audit.postalCode)  ? 'black' : 'red'  }">{{audit.postalCode}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'countryName', audit.countryName)  ? 'black' : 'red'  }">{{audit.countryName}}</td>
                    <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'isActive', audit.isActive)  ? 'black' : 'red'  }">{{audit.isActive}}</td>

                    <td>{{audit.updatedBy}}</td>
                    <td>{{audit.updatedDate | date: 'dd-MM-yyyy h:mm a '}}</td>
                    <td>{{audit.createdBy}}</td>
                    <td>{{audit.createdDate | date: 'dd-MM-yyyy h:mm a '}}</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="dismissModel()">Close</button>
    </div>
</ng-template>
