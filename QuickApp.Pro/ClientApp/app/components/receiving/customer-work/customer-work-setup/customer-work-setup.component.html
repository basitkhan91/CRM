<div [@fadeInOut] class="page-content">
    <div class="right_col" role="main" style="min-height: 629px;">
        <div class="x_panel" style="">
            <div class="x_content add-customer-work">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item" aria-current="page">Receiving</li>
                        <li class="breadcrumb-item" aria-current="page">Customer Work</li>
                        <li class="breadcrumb-item active" aria-current="page">Edit Customer Work</li>
                    </ol>
                </nav>
                <h4 class="page-heading">Edit Customer Work</h4>
                <div class="clear"></div>
                <form action="#" method="post" #addcustomerwork="ngForm" id="addcustomerwork" name="" class="form-horizontal add-custustomer">
                    <div class="col-md-12 col-sm-12 col-12">
                        <div class="tab-content form-bg">
                            <div class="tab-pane active" id="home">
                                <div class="col-sm-4 blocks3">
                                    <div class="form-group col-sm-12 add-icon-inline-right">
                                        <label class="control-label col-sm-4">Employee Name<strong class="clr-red">*</strong></label>
                                        <p-autoComplete class="pautocomp-cstm" [(ngModel)]="sourcereceving.firstName" (onSelect)="empnameId($event)" name="firstName" [suggestions]="firstCollection" (completeMethod)="filterfirstName($event)" [size]="30" required
                                                        [minLength]="1" [dropdown]="true">
                                            <ng-template let-firstName pTemplate="item">
                                                <div class="ui-helper-clearfix">{{firstName}}</div>
                                            </ng-template>
                                        </p-autoComplete>
                                    
                                    </div>
                                </div>
                                <div class="clear"></div>
                                <hr class="hr-dark">
                                <div class="col-sm-4 blocks3">
                                    <div class="form-group col-sm-13 add-icon-inline-right">
                                        <label class="control-label col-sm-4">Customer Name<strong class="clr-red">*</strong></label>
                                        <p-autoComplete class="pautocomp-cstm" sstyle="font-size: 1px" [(ngModel)]="sourcereceving.name" (onSelect)="customerNameId($event)" name="name" [suggestions]="customerNames" (completeMethod)="filterNames($event)" [size]="30" required
                                                        [minLength]="1" [dropdown]="true">
                                            <ng-template let-name pTemplate="item">
                                                <div class="ui-helper-clearfix">{{name}}</div>

                                            </ng-template>
                                        </p-autoComplete>

                                     


                                    </div>
                                    <div class="form-group col-sm-13">
                                        <div class="form-group add-icon-inline-right">
                                            <label class="control-label col-sm-4">Customer Code<strong class="clr-red">*</strong></label>


                                            <p-autoComplete class="pautocomp-cstm" sstyle="font-size: 1px"
                                                            name="customerCode"
                                                            field="customerCode"
                                                            [(ngModel)]="sourcereceving.customerCode" [suggestions]="custcodes"
                                                            (completeMethod)="filterCodes($event)" [size]="30" #customerCode="ngModel"
                                                            [minLength]="1" [dropdown]="true" required>

                                                <!--field="customerCode"-->
                                            </p-autoComplete>
                                          
                                        </div>

                                     


                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Receiving Num</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.receivingCustomerNumber" readonly>
                                        </div>
                                    </div>

                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Ref<strong class="clr-red">*</strong></label>
                                        <div class="col-sm-8">

                                            <p-autoComplete class="pautocomp-cstm" sstyle="font-size: 1px" [(ngModel)]="sourcereceving.customerReference" name="customerReference" [suggestions]="customerReferenceNames" (completeMethod)="filterReferenceNames($event)" [size]="30" required
                                                            [minLength]="1" [dropdown]="true">
                                                <ng-template let-name pTemplate="item">
                                                    <div class="ui-helper-clearfix">{{name}}</div>

                                                </ng-template>
                                            </p-autoComplete>
                                                </div>
                                    </div>

                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Contact<strong class="clr-red">*</strong></label>
                                        <div class="col-sm-8">

                                            <select style="border-radius:5px;" sstyle="font-size: 1px" [(ngModel)]="sourcereceving.customerContactId" name="customerContactId" (change)="customerContactChange(sourcereceving.customerContactId)" required> 
                                                <option>--Select</option>
                                                <option *ngFor="let contact of customerContactList" [ngValue]="contact.contactId">{{contact.firstName}}</option>
                                            </select>
                                        </div>
                                     
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Contact Phone<strong class="clr-red">*</strong></label>
                                        <div class="col-sm-8">
                                            <input sstyle="font-size: 1px" class="form-control" type="text" name="workPhone" [(ngModel)]="sourcereceving.workPhone" required (keypress)="patternMobilevalidationWithSpl($event)">
                                        </div>
                                     

                                    </div>
                                    <div class="form-group col-sm-12 input-icon1">
                                        <label class="control-label col-sm-4"> PN<strong class="clr-red">*</strong> </label>
                                        <p-autoComplete required class="pautocomp-cstm" [(ngModel)]="sourcereceving.partNumber" (onSelect)="partnmId($event)" name="partNumber" [suggestions]="partCollection" (completeMethod)="filterpartItems($event)" [size]="30"
                                                        [minLength]="1" [dropdown]="true">
                                            <ng-template let-partName pTemplate="part">
                                                <div class="ui-helper-clearfix">{{partName}}</div>
                                            </ng-template>
                                        </p-autoComplete>
                                      
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">PN Description</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" [disabled]="true" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.partDescription">
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Manufacturer</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" [disabled]="true" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.manufacturer">
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Revised PN </label>
                                        <p-autoComplete class="pautocomp-cstm" [(ngModel)]="sourcereceving.changePartNumber" [ngModelOptions]="{standalone: true}" [suggestions]="partCollection" (completeMethod)="filterpartItems($event)" [size]="30"
                                                        [minLength]="1" [dropdown]="true">
                                            <ng-template let-partName1 pTemplate="part">
                                                <div class="ui-helper-clearfix">{{partName1}}</div>
                                            </ng-template>
                                        </p-autoComplete>
                                  
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Serialized</label>
                                        <div class="col-sm-8">
                                            <input class="form-control serialized-checkbox" [disabled]="true" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.isSerialized">
                                        </div>

                                        <div *ngIf="sourcereceving.isSerialized" class="serialized-block">

                                            <div class="form-group col-sm-12">
                                                <label class="control-label col-sm-4">Serial Number </label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.serialNumber">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-12">
                                                <label class="control-label col-sm-4">Cert By</label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.certifiedBy">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-12">
                                                <label class="control-label col-sm-4">Tag Date</label>
                                                <div class="col-sm-8">
                                                    <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.tagDate"></p-calendar>
                                                     </div>
                                            </div>
                                            <div class="form-group col-sm-12">
                                                <label class="control-label col-sm-4">Tag Type</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control numberids ui-autocomplete-input" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.tagType">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-12">
                                                <label class="control-label col-sm-4">Parts Cert Num</label>
                                                <div class="col-sm-8">
                                                    <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.partCertificationNumber">
                                                </div>
                                            </div>
                                            <div class="clear"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4 blocks3">





                                    <div class="clear"></div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">QTY</label>
                                        <div class="col-sm-8">
                                            <input class="form-control qty-input" *ngIf="showNormalQuantity" type="number" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.quantity">
                                            <input class="form-control qty-input" *ngIf="showRestrictQuantity" type="number" min="0" max="1" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.quantity">
                                            <input class="form-control qty-input" *ngIf="showFreeQuantity" type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.quantity">

                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Condition<strong class="clr-red">*</strong></label>
                                        <div class="col-sm-8">
                                            <select class="form-control" style="border-radius:5px;" name="conditionId" [(ngModel)]="sourcereceving.conditionId" required>
                                                <option *ngFor="let condition of allConditionInfo" [ngValue]="condition.conditionId">{{condition.description}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Site <strong class="clr-red">*</strong></label>
                                        <div class="col-sm-8">

                                            <select style="border-radius:5px;" [(ngModel)]="sourcereceving.siteId" name="siteId" (change)="siteValueChange($event.target.value)" required>
                                                <option>--Select</option>
                                                <option *ngFor="let site of allSites" [ngValue]="site.siteId">{{site.name}}</option><!--(onchange)="siteValueChange(site.siteName)"-->
                                            </select>
                                            <a matTooltip="Create Site" style="position: absolute;right: -20px;top: 0;"
                                               class=""
                                               [routerLink]="[
                                                 '/singlepages/singlepages/app-site'
                                                         ]">
                                                <i class="fa fa-plus-circle fa-lg"></i>
                                            </a>
                                        </div>
                                    </div>


                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Warehouse<strong class="clr-red">*</strong></label>
                                        <div class="col-sm-8">
                                            <select required style="border-radius:5px;" [(ngModel)]="sourcereceving.warehouseId" name="warehouseId" (change)="wareHouseValueChange(sourcereceving.warehouseId)">
                                                <option value="">--Select</option>
                                                <option *ngFor="let site of allWareHouses" [ngValue]="site.warehouseId">{{site.warehouseName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Location</label>
                                        <div class="col-sm-8">
                                            <select style="border-radius:5px;" [(ngModel)]="sourcereceving.locationId" [ngModelOptions]="{standalone: true}" (change)="locationValueChange(sourcereceving.locationId)">
                                                <option>--Select</option>
                                                <option *ngFor="let site of allLocations" [ngValue]="site.locationId">{{site.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Shelf</label>
                                        <div class="col-sm-8">
                                            <select style="border-radius:5px;" [(ngModel)]="sourcereceving.shelfId" [ngModelOptions]="{standalone: true}" (change)="shelfValueChange(sourcereceving.shelfId)">
                                                <option>--Select</option>
                                                <option *ngFor="let site of allShelfs" [ngValue]="site.shelfId">{{site.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Bin</label>
                                        <div class="col-sm-8">
                                            <select style="border-radius:5px;" [(ngModel)]="sourcereceving.binId" [ngModelOptions]="{standalone: true}" (change)="binValueSelect(sourcereceving.binId)">
                                                <option>--Select</option>
                                                <option *ngFor="let site of allBins" [ngValue]="site.binId">{{site.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Owner</label>
                                        <div class="col-sm-8 add-icon-inline-right">
                                           

                                            <p-autoComplete class="pautocomp-cstm" sstyle="font-size: 1px" [(ngModel)]="sourcereceving.owner" [ngModelOptions]="{standalone: true}" [suggestions]="customerNames" (completeMethod)="filterNames($event)" [size]="30"
                                                            [minLength]="1" [dropdown]="true">
                                                <ng-template let-name pTemplate="item">
                                                    <div class="ui-helper-clearfix">{{name}}</div>
                                                </ng-template>
                                            </p-autoComplete>

                                          
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showCustomer2">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon inline-block display-flex" *ngIf="sourcereceving.ownerType == 1">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.owner" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let customer of allCustomer" [ngValue]="customer.name">{{customer.name}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showOther2">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="col-sm-8" *ngIf="sourcereceving.ownerType == 2">
                                                <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.owner">
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showVendor2">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon inline-block display-flex" *ngIf="sourcereceving.ownerType == 3">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.owner" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let vendor of allVendorList" [ngValue]="vendor.vendorName">{{vendor.vendorName}}</option><!--(onchange)="siteValueChange(site.siteName)"-->
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showCompany2">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon  inline-block display-flex" *ngIf="sourcereceving.ownerType == 4">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.owner" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let ataName of maincompanylist" [ngValue]="ataName.code">{{ataName.code}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Customer Stock</label>
                                        <div class="col-sm-8">
                                            <input class="" type="checkbox" id="" checked="checked" [disabled]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.isCustomerStock">
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4" for="obtainFrom">Tracable to</label>
                                        <div class="col-sm-8">
                                            <select style="border-radius:5px;" id="obtainFrom" [(ngModel)]="sourcereceving.traceableToType" [ngModelOptions]="{standalone: true}" class="form-control" (change)="getTracabletoType(sourcereceving.traceableToType)">
                                                <option>--Select--</option>
                                                <option value="1">Customer</option>
                                                <option value="2">Other </option>
                                                <option value="3">Vendor</option>
                                                <option value="4">Company</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showCustomer">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon inline-block display-flex" *ngIf="sourcereceving.traceableToType == 1">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.traceableTo" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let customer of allCustomer" [ngValue]="customer.name">{{customer.name}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showOther">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="col-sm-8" *ngIf="sourcereceving.traceableToType == 2">
                                                <input  class="form-control"  type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.traceableTo">
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showVendor">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon inline-block display-flex" *ngIf="sourcereceving.traceableToType == 3">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.traceableTo" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let vendor of allVendorList" [ngValue]="vendor.vendorName">{{vendor.vendorName}}</option><!--(onchange)="siteValueChange(site.siteName)"-->
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showCompany">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="col-sm-8" *ngIf="sourcereceving.traceableToType == 4">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.traceableTo" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let ataName of maincompanylist" [ngValue]="ataName.code">{{ataName.code}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4 blocks3">



                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Obtain From</label>
                                        <div class="col-sm-8">
                                            <select style="border-radius:5px;" [(ngModel)]="sourcereceving.obtainFromType" [ngModelOptions]="{standalone: true}" class="form-control" (change)="getObtaintoType(sourcereceving.obtainFromType)">
                                                <option>--Select--</option>
                                                <option value="1">Customer</option>
                                                <option value="2">Other </option>
                                                <option value="3">Vendor</option>
                                                <option value="4">Company</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showCustomer1">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon inline-block display-flex" *ngIf="sourcereceving.obtainFromType == 1">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.obtainFrom" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let customer of allCustomer" [ngValue]="customer.name">{{customer.name}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showOther1">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="col-sm-8" *ngIf="sourcereceving.obtainFromType == 2">
                                                <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.obtainFrom">
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showVendor1">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon inline-block display-flex" *ngIf="sourcereceving.obtainFromType == 3">
                                                <select  style="border-radius:5px;"[(ngModel)]="sourcereceving.obtainFrom" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let vendor of allVendorList" [ngValue]="vendor.vendorName">{{vendor.vendorName}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12" *ngIf="showCompany1">
                                            <label class="control-label col-sm-4"></label>
                                            <div class="inner-addon inline-block display-flex" *ngIf="sourcereceving.obtainFromType == 4">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.obtainFrom" [ngModelOptions]="{standalone: true}">
                                                    <option *ngFor="let ataName of maincompanylist" [ngValue]="ataName.code">{{ataName.code}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">MFG Date</label>
                                        <div class="col-sm-7">

                                            <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.isMFGDate">
                                        </div>
                                        <div class="col-sm-8 expdate-input" *ngIf="sourcereceving.isMFGDate">
                                            <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.manufacturingDate"></p-calendar>

                                        </div>
                                    </div>

                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">MFG Trace </label>
                                        <div class="col-sm-8">
                                            <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.manufacturingTrace">
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">MFG Lot </label>
                                        <div class="col-sm-8">
                                            <input class="form-control" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.manufacturingLotNumber">
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Exp Date</label>
                                        <div class="col-sm-7">
                                            <input class="form-control" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.isExpirationDate" id="expdate-input">
                                        </div>
                                        <div class="col-sm-8 expdate-input" *ngIf="sourcereceving.isExpirationDate">
                                            <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.expirationDate "></p-calendar>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-12">
                                        <label class="control-label col-sm-4">Time Life</label>
                                        <div class="col-sm-8">
                                            <input class="" type="checkbox" [disabled]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.isTimeLife">
                                        </div>
                                    </div>
                                    <div *ngIf="this.sourcereceving.isTimeLife" class="timelife-block">

                                        <div class="form-group col-sm-12">
                                            <label class="control-label col-sm-4">Date</label>
                                            <div class="col-sm-8">
                                                <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.timeLifeDate"></p-calendar>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12">
                                            <label class="control-label col-sm-4">Origin</label>
                                            <div class="col-sm-8">
                                                <input class="" type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourcereceving.timeLifeOrigin ">
                                            </div>
                                        </div>

                                        <div class="clear"></div>

                                        <div class="clear"></div>

                                    </div>


                                    <div class="card" style="margin-top: 20px;margin-left:50px">
                                        <div class="card-header" style="padding: 10px 12px;">
                                            <h5 style="margin-bottom: 0; font-size: 12px;">Management Structure <span class="clr-red">*</span></h5>
                                        </div>
                                        <div class="card-body" style="padding: 12px 12px 4px;">
                                            <div class="form-group">
                                                <select style="border-radius:5px;" class="form-control" name="primaryCompany" [(ngModel)]="sourcereceving.companyId"
                                                        (change)="getBUList(sourcereceving.companyId)" #mCompanyName required>
                                                    <option value="0">Select Company</option>
                                                    <option *ngFor="let name of maincompanylist" [ngValue]="name.managementStructureId">{{name.code}}</option>
                                                </select>
                                                <div *ngIf="mCompanyName.invalid && (mCompanyName.dirty || mCompanyName.touched)" class="alert alert-danger alert-danger-cstm">
                                                    <div *ngIf="mCompanyName.errors.required">
                                                        <small> Company Name is required </small>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-group">
                                                <select style="border-radius:5px;" [(ngModel)]="sourcereceving.buId" name="primaryBU" (change)="getDivisionlist(sourcereceving.buId)" class="form-control">
                                                    <option value="0">Select BU</option>
                                                    <option *ngFor="let name of bulist" [ngValue]="name.managementStructureId">{{name.code}}</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <select style="border-radius:5px;" class="form-control" [(ngModel)]="sourcereceving.divisionId" name="primaryDivision" (change)="getDepartmentlist(sourcereceving.divisionId)">
                                                    <option value="0">Select Division</option>
                                                    <option *ngFor="let name of divisionlist" [ngValue]="name.managementStructureId">{{name.code}}</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <select style="border-radius:5px;" class="form-control" [(ngModel)]="sourcereceving.departmentId" name="primaryDept" (change)="getDepartmentId(sourcereceving.departmentId)">
                                                    <option value="0">Select Dept</option>
                                                    <option *ngFor="let name of departmentList" [ngValue]="name.managementStructureId">{{name.code}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clear"></div>

                              </div>


                            <div class="form-group col-sm-12" *ngIf="this.sourcereceving.isTimeLife">
                               

                                <div class="table-responsive form-group col-sm-12" *ngIf="this.sourcereceving.isTimeLife">
                                    <table class="table table-bordered table-striped">
                                        <thead>
                                            <tr>
                                                <th colspan="15" class="text-center"><strong>TIME LIFE ADJUSTMENTS</strong></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th></th>
                                                <th class="text-center">Cycles</th>
                                                <th class="text-center">Time</th>
                                                <th class="text-center">Last</th>
                                            </tr>
                                            <tr>
                                                <td>Remaining</td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesRemaining"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeRemaining"></td>
                                                <td></td>

                                            </tr>
                                            <tr>
                                                <td>Since New</td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceNew"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceNew"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.lastSinceNew"></td>

                                            </tr>
                                            <tr>
                                                <td>Since Ovh</td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceOVH"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceOVH"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.lastSinceOVH"></td>

                                            </tr>
                                            <tr>
                                                <td>Since Insp</td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceInspection"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceInspection"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.lastSinceInspection"></td>
                                            </tr>
                                            <tr>
                                                <td>Since Repair</td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.cyclesSinceRepair"></td>
                                                <td class="clr2 text-center"><input type="number" class="w60 form-control" placeholder="hours" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceTimeLife.timeSinceRepair"></td>
                                                <td></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                            <button class="btn btn-primary-cstm float-right" pButton type="button" (click)="saveCustomerwork()" [disabled]="!addcustomerwork.valid" label="Save" style="padding: 0 !important;"></button>

                            </div>
                        <div class="clearfix"></div>
                    </div>
                </form>
               
            </div>
        </div>
    </div>

 </div>

<p-dialog header="Alert" [(visible)]="display" [modal]="true" [dismissableMask]="true" maximizedLeft="140px" maximizedTop="140px"
          [width]="350" [minWidth]="200" [responsive]="true"
          [minY]="1050" [baseZIndex]="1100000">


    <h5 [ngStyle]="{'color':'red'}">
        Please Enter (*) Mandatory Fields
    </h5>
    <p-footer>
        <button type="button" pButton icon="pi pi-check" (click)="display=false" label="Close"></button>
    </p-footer>

</p-dialog>