





<div>
    <button
      
      data-target="#addNewExclusions"
      data-toggle="modal"
      (click)="createNew()"
      class="btn btn-primary btn-primary-cstm"
      style="padding: 6px 12px !important;"
    >
      Add Exclusions
    </button>
  </div>
  
  
  
  
  <div id="addNewExclusions" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Exclusions</h4>
        </div>
        <div class="modal-body">
          <grd-exclusions  *ngIf="!isEdit"
          [isQuote] = "isQuote"
           [workFlow]='workFlowObject' 
          [isWorkOrder]="isWorkOrder" 
          [markupList]="markupList"
          (saveExclusionsListForWO)="saveExclusionsList($event)">
          </grd-exclusions>

        <grd-exclusions *ngIf="isEdit && editData"
        [isQuote] = "isQuote"
        [isEdit]="isEdit"
        [editData]="editData"
        [workFlow]='workFlowObject' 
        [isWorkOrder]="isWorkOrder"
        [markupList]="markupList" 
        (updateExclusionsListForWO)="updateExclusionsList($event)">
      </grd-exclusions>
  
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger-cstm" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>




<div class="equipment-tab-content" >
     <div class="x_panel" *ngIf="workOrderExclusionsList">
                                                    <div class="tab-content">
                                                        <div class="table-responsive table-overflow" id="workflow-attributes-block">
                                                            <table class="table table-bordered ">
                                                                <thead>
                                                                    <tr>
                                                                        <th class="text-center">EPN</th>
                                                                        <th class="text-center">EPN Description</th>
                                                                        <th class="text-center">Quantity</th>
                                                                        <th class="text-center">Unit Cost</th>
                                                                        <th class="text-center">Extended Cost</th>
                                                                        <ng-container *ngIf="isQuote">
                                                                          <th>Mark up</th>
                                                                          <th>Cost Plus Amount</th>
                                                                          <th>Fixed Amount</th>
                                                                        </ng-container>
                                                                        <th class="text-center">Memo</th>
                                                                        <th colspan="4" class="text-center"></th>
                                                                    </tr> 
                                                                </thead>
                                                            
                                                                <tbody>
                                                                  <ng-container *ngFor="let w  of workOrderExclusionsList; let i=index;">
                                                                    <tr *ngIf="!w['isDeleted']">
                                                                      <td>{{w.epn}}</td>
                                                                      <td>{{w.epnDescription}}</td>
                                                                      <td>{{w.quantity}}</td>
                                                                      <td>{{w.unitCost}}</td>
                                                                      <td>{{w.extendedCost}}</td>
                                                                      <ng-container *ngIf="isQuote">
                                                                        <td>{{w.markUpPercentageId}}</td>
                                                                        <td>{{w.costPlusAmount}}</td>
                                                                        <td>{{w.fixedAmount}}</td>
                                                                      </ng-container>
                                                                      <td>{{w.memo}}</td>

                                                                      <td>
                                                                        <button
                                                                          class="btn-edit ptable-wo-btns"
                                                                          mat-icon-button
                                                                          data-target="#addNewExclusions"
                                                                          data-toggle="modal"
                                                                          (click)="edit(w, i)"
                                                                          matTooltip="Edit"
                                                                        >
                                                                          <mat-icon>edit</mat-icon>
                                                                        </button>
                                                                      </td>
                                                                      <td>
                                                                        <button
                                                                          class="btn-delete ptable-wo-btns"
                                                                          mat-icon-button
                                                                          matTooltip="Delete"
                                                                          (click)="delete(w, i)"
                                                                        >
                                                                          <mat-icon color="warn">delete</mat-icon>
                                                                        </button>
                                                                      </td>

                                                                    </tr> 
                                                                  </ng-container>
                                                                </tbody>
                                                            </table>
                                                            <button
                                                              class="btn btn-primary-cstm pull-right"
                                                              (click)="saveQuotation()"
                                                              *ngIf = "isQuote"
                                                            >
                                                              Save
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="clear"></div>
                                                    <br />
                                                    <br />
                                                    <br />
                                                    <br />
                                                </div>
</div>