<div class="card">
  <div class="card-body">
    <div class="form-row">
      <div class="col-md-12">
        <div class="col-md-8">
          <div class="col-md-4">
            <div class="form-group">
              <label for="woID">WO ID </label>
              <p-autoComplete
                [(ngModel)]="laborForm.workFlowWorkOrderId"
                field="label" 
                name="workOrderWorkFlow"
                errorMessage="Records not found" 
                [forceSelection]="true"
                [dropdown]="true"
                [suggestions]="workOrderWorkFlowList" 
                (completeMethod)="filterWorkFlowNumbers($event)"
                [size]="30" [minLength]="1"
                class="p-autoComplete-ctsm"
              >
              </p-autoComplete>
            </div>
            <div class="form-group">
              <label for="dataentered">Data Entered By </label>
              <p-autoComplete
              class="p-autoComplete-ctsm"
              field="label" 
              name="dataEnteredBy"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="dataEnteredByList" 
              (completeMethod)="filterDataEnteredBy($event)"
              [size]="30" [minLength]="1"
                [(ngModel)]="laborForm.dataEnteredBy"
              >
              </p-autoComplete>
            </div>
            <div class="form-group">
              <label for="expertise">Expertise </label>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom"
                [(ngModel)]="laborForm.expertiseId"
              ></p-dropdown>
            </div>
            <div class="form-group">
              <label for="employee">Employee </label>
              <p-autoComplete
                class="p-autoComplete-ctsm"
                field="label" 
                name="dataEnteredBy"
                [dropdown]="true"
                errorMessage="Records not found" 
                [forceSelection]="true"
                [suggestions]="employeeList" 
                (completeMethod)="filterEmployee($event)"
                [size]="30" [minLength]="1"
                [(ngModel)]="laborForm.employeeId"
              >
              </p-autoComplete>
            </div>
          </div>

          <div class="col-md-4 col-offset-3">
            <div class="form-group">
              <p-checkbox
                class="p-checkbox-label"
                name="task"
                binary="false"
                label="Taskcompleted By one Tech/Mech"
                [(ngModel)]="laborForm.isTaskCompletedByOne"
              ></p-checkbox>
            </div>

            <div class="form-group">
              <p-radioButton
                class="p-radiobutton-label-vertical"
                name="WorkFloworSpecificTaskorWorkOrder"
                label="Use target hours from workflow"
                value="workFlow"
                [(ngModel)]="laborForm.workFloworSpecificTaskorWorkOrder"
              ></p-radioButton>
              <p-radioButton
                class="p-radiobutton-label-vertical"
                name="WorkFloworSpecificTaskorWorkOrder"
                label="Assign hours by specific tasks"
                value="specificTasks"
                [(ngModel)]="laborForm.workFloworSpecificTaskorWorkOrder"
              ></p-radioButton>
              <p-radioButton
                class="p-radiobutton-label-vertical"
                name="WorkFloworSpecificTaskorWorkOrder"
                label="Assign total hours to workorder "
                value="workOrder"
                [(ngModel)]="laborForm.workFloworSpecificTaskorWorkOrder"
              ></p-radioButton>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <p-radioButton
          class="p-radiobutton-label-horizontal"
          name="HoursorClockorScan"
          label="Labour hours"
          value="labourHours"
          [(ngModel)]="laborForm.hoursorClockorScan"
        ></p-radioButton>
        <p-radioButton
          class="p-radiobutton-label-horizontal col-width"
          name="HoursorClockorScan"
          value="labourClock"
          label="Labour Clock In/Out"
          [(ngModel)]="laborForm.hoursorClockorScan"
        ></p-radioButton>

        <p-radioButton
          class="p-radiobutton-label-horizontal"
          name="HoursorClockorScan"
          value="scan"
          label="Scan"
          [(ngModel)]="laborForm.hoursorClockorScan"
        ></p-radioButton>
      </div>
    </div>
  </div>
  <div
    class="table-responsive pas-table-cstm"
  
  >
    <table class="table table-bordered  table-sorting mpn-list-table">
      <thead>
        <tr>
          <th class="text-center padding-td">Tasks</th>
          <th class="text-center">Expertise</th>
          <th class="text-center" style="padding: 8px 64px !important;">
            Employee
          </th>
          <th class="text-center">Billable /NonBillable</th>
          <th
            class="text-center"
            *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'"
          >
            Start/Stop
          </th>
          <th
            class="text-center"
            style="width: 100px;"
            *ngIf="laborForm.hoursorClockorScan !== 'labourHours'"
          >
            Start Date and Time
          </th>
          <th
            class="text-center"
            *ngIf="laborForm.hoursorClockorScan !== 'labourHours'"
          >
            End Date and Time
          </th>
          <th class="text-center">Hours/Mins</th>
          <th class="text-center">Adjustments</th>
          <th class="text-center">Adjusted Hours</th>
          <th class="text-center" style="padding: 7px 53px !important;">
            Memo
          </th>
        </tr>
      </thead>
      <tbody>
        <!-- Receive -->
        <tr *ngFor="let rec of laborForm.workOrderLaborList[0].receive; let i = index">
          <td *ngIf="i < 1">
            Receive
            <i
              *ngIf="!laborForm.isTaskCompletedByOne"
              class="float-right float-right fa fa-plus-circle fa-lg"
              (click)="addNewTask('receive')"
            ></i>
          </td>
          <td *ngIf="i >= 1">&nbsp;</td>
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="rec.expertiseId"
              ></p-dropdown>
          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="recEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="rec.employeeId"
            >
            </p-autoComplete>
            <i
              *ngIf="!laborForm.isTaskCompletedByOne"
              class="float-right float-right fa fa-plus-circle fa-lg margintop"
            ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                name="billable-rec"
                [(ngModel)]="rec.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button
              class="btn btn-primary-cstm start-btn"
              (click)="startandStop(rec)"
            >
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours'">
            <p-calendar
              [(ngModel)]="rec.startDate"
              [disabled]="!rec.startDateandTimeIsEdit"
              [showIcon]="true"
              showTime="true"
              hourFormat="24"
              class="w150"
            ></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(rec,'startDateandTimeIsEdit')"></i>
          </td>
            <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="rec.endDate" [disabled]="!rec.endDateandTimeIsEdit" [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
          <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(rec,'endDateandTimeIsEdit')"></i>            
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ rec.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
            <input type="text" [(ngModel)]="rec.hours" name="hours"> 
          </td>
          <td>
            <input type="number" [(ngModel)]="rec.adjustments" />
          </td>
          <td>
            {{ rec.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="rec.memo" />
          </td> 
        </tr>
        <!-- inspect -->
        <tr *ngFor="let inspect of laborForm.workOrderLaborList[0].inspect; let i = index;">
            <td *ngIf="i < 1">Inspect <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('inspect')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
    
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="inspect.expertiseId"
              ></p-dropdown>
          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="inspectEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="inspect.employeeId"
            >
            </p-autoComplete>
 
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="inspect.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(inspect)">
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="inspect.startDate"
            [disabled]="!inspect.startDateandTimeIsEdit"
             [showIcon]="true" showTime="true" hourFormat="24" class="w150"
            ></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(inspect,'startDateandTimeIsEdit')"></i>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar 
            [disabled]="!inspect.endDateandTimeIsEdit" 
            [(ngModel)]="inspect.endDate" [showIcon]="true" showTime="true" 
            hourFormat="24" class="w150"
            ></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(inspect,'endDateandTimeIsEdit')"></i> 
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ inspect.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="inspect.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="inspect.adjustments" />
          </td>
          <td>
            {{ inspect.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="inspect.memo" />
          </td>
        </tr> 
        <!-- Evaluate -->
        <tr *ngFor="let evaluate of laborForm.workOrderLaborList[0].evaluate; let i = index;">
            <td *ngIf="i < 1">Evaluate <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('evaluate')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
          <td>

              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="evaluate.expertiseId"
              ></p-dropdown>

          </td>
          <td>
            <p-autoComplete
            class="p-autocomplete-ctsm-1 "
            field="label" 
            name="evaluateEmp"
            [dropdown]="true"
            errorMessage="Records not found" 
            [forceSelection]="true"
            [suggestions]="employeeList" 
            (completeMethod)="filterEmployee($event)"
            [size]="30" [minLength]="1"
            [(ngModel)]="evaluate.employeeId"
          >
          </p-autoComplete>
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="evaluate.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(evaluate)">
              Start/Stop
            </button>
          </td>

          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="evaluate.startDate"  [disabled]="!evaluate.startDateandTimeIsEdit" [showIcon]="true"
             showTime="true" hourFormat="24" class="w150"></p-calendar>
             <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(evaluate,'startDateandTimeIsEdit')"></i>  
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="evaluate.endDate"
              [disabled]="!evaluate.endDateandTimeIsEdit" 
                [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(evaluate,'endDateandTimeIsEdit')"></i>  
          </td>

          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ evaluate.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="evaluate.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="evaluate.adjustments" />
          </td>
          <td>
            {{ evaluate.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="evaluate.memo" />
          </td>
        </tr> 
        <!-- TearDown -->
         <tr *ngFor="let teardown of laborForm.workOrderLaborList[0].tearDown; let i = index;">
            <td *ngIf="i < 1">TearDown <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('tearDown')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="teardown.expertiseId"
              ></p-dropdown>
          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="teardownEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="teardown.employeeId"
            >
            </p-autoComplete>
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="teardown.billableId"
              ></p-dropdown>

          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(teardown)">
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="teardown.startDate" 
            [showIcon]="true" showTime="true"
            [disabled]="!teardown.startDateandTimeIsEdit"
            hourFormat="24" class="w150"></p-calendar>
           
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(teardown,'startDateandTimeIsEdit')"></i>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="teardown.endDate" 
            [showIcon]="true" showTime="true" hourFormat="24" 
            [disabled]="!teardown.endDateandTimeIsEdit" 
            class="w150"></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(teardown,'endDateandTimeIsEdit')"></i> 
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ teardown.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="teardown.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="teardown.adjustments" />
          </td>
          <td>
            {{ teardown.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="teardown.memo" />
          </td>
        </tr>
        <!-- Disassemble -->
        <tr *ngFor="let disassemble of laborForm.workOrderLaborList[0].disassemble; let i = index;">
            <td *ngIf="i < 1">Disassemble <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('disassemble')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
      
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="disassemble.expertiseId"
              ></p-dropdown>

          </td>
          <td>

              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="disassembleEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="disassemble.employeeId"
            >
            </p-autoComplete>
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="disassemble.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(disassemble)">
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="disassemble.startDate" 
            [disabled]="!disassemble.startDateandTimeIsEdit"
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
           
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(disassemble,'startDateandTimeIsEdit')"></i>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="disassemble.endDate" 
            [disabled]="!disassemble.endDateandTimeIsEdit" 
            [showIcon]="true" showTime="true" hourFormat="24" 
            class="w150"></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(disassemble,'endDateandTimeIsEdit')"></i>  
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ disassemble.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="disassemble.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="disassemble.adjustments" />
          </td>
          <td>
            {{ disassemble.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="disassemble.memo" />
          </td>
        </tr> 
        <!-- Assemble -->
         <tr *ngFor="let assemble of laborForm.workOrderLaborList[0].assemble; let i = index;">
            <td *ngIf="i < 1">Assemble <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('assemble')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="assemble.expertiseId"
              ></p-dropdown>
          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="assembleEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="assemble.employeeId"
            >
            </p-autoComplete>
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="assemble.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(assemble)">
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            <p-calendar [(ngModel)]="assemble.startDate" 
            [disabled]="!assemble.startDateandTimeIsEdit"
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>

            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(assemble,'startDateandTimeIsEdit')"></i>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="assemble.endDate" 
            [disabled]="!assemble.endDateandTimeIsEdit" 
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
         
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(assemble,'endDateandTimeIsEdit')"></i>  

          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ assemble.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="assemble.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="assemble.adjustments" />
          </td>
          <td>
            {{ assemble.adjustmentedHours }}
          </td>
          
          <td>
            <input type="text" [(ngModel)]="assemble.memo" />
          </td>
        </tr> 
        <!-- Testing -->
         <tr *ngFor="let testing of laborForm.workOrderLaborList[0].testing; let i = index;">
          
                <td *ngIf="i < 1">Testing <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('testing')"></i></td>
                <td *ngIf="i >= 1">&nbsp;</td>
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="testing.expertiseId"
              ></p-dropdown>
          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="testingEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="testing.employeeId"
            >
            </p-autoComplete>
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="testing.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(testing)">
              Start/Stop
            </button>
          </td>

          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="testing.startDate" 
            [disabled]="!testing.startDateandTimeIsEdit"
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(testing,'startDateandTimeIsEdit')"></i>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            <p-calendar [(ngModel)]="testing.endDate" 
            [disabled]="!testing.endDateandTimeIsEdit" 
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
         
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(testing,'endDateandTimeIsEdit')"></i>  
          </td>

          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ testing.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="testing.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="testing.adjustments" />
          </td>
          <td>
            {{ testing.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="testing.memo" />
          </td>
        </tr> 
        <!-- QualityControl -->
         <tr *ngFor="let qc of laborForm.workOrderLaborList[0].qualityControl; let i = index;">
            <td *ngIf="i < 1">QualityControl <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('qualityControl')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="qc.expertiseId"
              ></p-dropdown>
          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="qcEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="qc.employeeId"
            >
            </p-autoComplete>
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="qc.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(qc)">
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="qc.startDate" 
            [disabled]="!qc.startDateandTimeIsEdit"
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
        
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(qc,'startDateandTimeIsEdit')"></i>

          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="qc.endDate"
            [disabled]="!qc.endDateandTimeIsEdit" 
             [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
             <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(qc,'endDateandTimeIsEdit')"></i> 
          </td>


          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ qc.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="qc.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="qc.adjustments" />
          </td>
          <td>
            {{ qc.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="qc.memo" />
          </td>
        </tr> 
        <!-- Ship -->
         <tr *ngFor="let ship of laborForm.workOrderLaborList[0].ship; let i= index;">
            <td *ngIf="i < 1">Ship <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('ship')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
      
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="ship.expertiseId"
              ></p-dropdown>
          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="shipEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="ship.employeeId"
            >
            </p-autoComplete>
            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="ship.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(ship)">
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            <p-calendar [(ngModel)]="ship.startDate" 
            [disabled]="!ship.startDateandTimeIsEdit"
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(ship,'startDateandTimeIsEdit')"></i>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
          
            <p-calendar [(ngModel)]="ship.endDate"    
            [disabled]="!ship.endDateandTimeIsEdit"  
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
           <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(ship,'endDateandTimeIsEdit')"></i>  
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ ship.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="ship.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="ship.adjustments" />
          </td>
          <td>
            {{ ship.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="ship.memo" />
          </td>
        </tr> 
        <!-- Clean -->
        <tr *ngFor="let clean of laborForm.workOrderLaborList[0].clean; let i = index;">
            <td *ngIf="i < 1">Clean <i  *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg" (click)="addNewTask('clean')"></i></td>
            <td *ngIf="i >= 1">&nbsp;</td>
          <td>
              <p-dropdown
              placeholder="Select Expertise Type"
                [options]="expertiseTypeList"
                class="p-dropdown-custom-2"
                [(ngModel)]="clean.expertiseId"
              ></p-dropdown>

          </td>
          <td>
              <p-autoComplete
              class="p-autocomplete-ctsm-1 "
              field="label" 
              name="cleanEmp"
              [dropdown]="true"
              errorMessage="Records not found" 
              [forceSelection]="true"
              [suggestions]="employeeList" 
              (completeMethod)="filterEmployee($event)"
              [size]="30" [minLength]="1"
              [(ngModel)]="clean.employeeId"
            >
            </p-autoComplete>
              

            <i *ngIf="!laborForm.isTaskCompletedByOne" class="float-right float-right fa fa-plus-circle fa-lg margintop" ></i>
          </td>
          <td>
              <p-dropdown
              placeholder="Select Billing Type"
                [options]="billableList"
                class="p-dropdown-custom-2"
                [(ngModel)]="clean.billableId"
              ></p-dropdown>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' && laborForm.hoursorClockorScan !== 'scan'">
            <button class="btn btn-primary-cstm start-btn" (click)="startandStop(clean)">
              Start/Stop
            </button>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            <p-calendar [(ngModel)]="clean.startDate" 
            [disabled]="!clean.startDateandTimeIsEdit"
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(clean,'startDateandTimeIsEdit')"></i>
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            <p-calendar [(ngModel)]="clean.endDate" 
            [disabled]="!clean.endDateandTimeIsEdit" 
            [showIcon]="true" showTime="true" hourFormat="24" class="w150"></p-calendar>
            <i class="fa fa-pencil" aria-hidden="true"  (click)="isEditTime(clean,'endDateandTimeIsEdit')"></i>  
          </td>
          <td *ngIf="laborForm.hoursorClockorScan !== 'labourHours' ">
            {{ clean.hours }}
          </td>
          <td *ngIf="laborForm.hoursorClockorScan === 'labourHours'"> 
              <input type="text" [(ngModel)]="clean.hours" name="hours"> 
            </td>
          <td>
            <input type="number" [(ngModel)]="clean.adjustments" />
          </td>
          <td>
            {{ clean.adjustmentedHours }}
          </td>
          <td>
            <input type="text" [(ngModel)]="clean.memo" />
          </td>
        </tr> 
      </tbody>
    </table>
  </div>
</div>

<button (click)="saveLabor()" class="btn btn-primary-cstm pull-right">
  Save
</button>
