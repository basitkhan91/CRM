<div *ngIf="!isWorkOrder">
    <div [@fadeInOut] class="page-content">
        <div class="right_col" role="main">
            <div class="x_panel">
                <div class="card">
                    <div class="card-body">
                        <!--header-->
                        <div class="inline-block display-flex">
                            <!--Set Title-->
                            <h3 class="po-head lead">Asset List</h3>
                            &nbsp;&nbsp;
                            <!--Step x: Customize the data-target-->
                            <a class="plusicon-cstm new-margin" matTooltip="Add Asset" matTooltipPosition="right" (click)="navigateTogeneralInfo()">
                                <i class="fa fa-plus-circle fa-lg"></i>
                            </a>
                        </div>
                        <p-table #dt class="rpo-table-cstm rro-table-cstm" [value]="allAssetInfoNew"
                                 [metaKeySelection]="true"
                                 [first]="pageIndex"
                                 [rows]="pageSize"
                                 [paginator]="true"
                                 [pageLinks]="3"
                                 [rowsPerPageOptions]="[10,20,50,100]"
                                 [columns]="selectedColumns"
                                 selectionMode="multiple"
                                 [resizableColumns]="true"
                                 [reorderableColumns]="true"
                                 [scrollable]="true"
                                 [totalRecords]="totalRecords"
                                 scrollHeight="450px">
                            <ng-template pTemplate="caption">
                                <div style="text-align: right; margin-left: -6px !important;">
                                    <!--column names dropdown taking selectedColumns-->
                                    <!--Step x: Update the dropdown with options-->
                                    <!--(onChange)="reorderValues($event)"-->
                                    <!--to-do:add (change)=>-->
                                    <p-multiSelect [maxSelectedLabels]="2"
                                                   [options]="cols"
                                                   optionLabel="header"
                                                   [(ngModel)]="selectedColumns"
                                                   [style]="{minWidth: '200px'}" style="float:left"
                                                   selectedItemsLabel="{0} columns selected"
                                                   defaultLabel="Choose Columns">
                                    </p-multiSelect>
                                    <div class="inner-addon right-addon w50 inline-block  g-filter-search-cstm">
                                        <i class="fa fa-search"></i>
                                        <input type="text" pInputText size="50" class="form-control ui-autocomplete-input"
                                               (input)="dt.filterGlobal($event.target.value, 'contains')"
                                               placeholder="Filter">
                                    </div>
                                    <button type="button" class="btn btn-primary" matTooltip="Download Data" matTooltipPosition="above"
                                            pButton icon="fa-download" iconPos="left" label="Export All Data" (click)="dt.exportCSV()"></button>
                                    <button type="button" class="btn btn-primary" matTooltip="Download Selected Data" pTooltip="Download Selected Data" matTooltipPosition="above"
                                            pButton icon="fa-download" iconPos="left" label="Export Selected Data" (click)="dt.exportCSV({selectionOnly:true})"></button>
                                </div>
                                <div style="padding-bottom: 1%"><br></div>
                            </ng-template>
                            <ng-template pTemplate="colgroup" let-columns>
                                <colgroup>
                                    <col *ngFor="let col of columns" style="width:140px">
                                </colgroup>
                            </ng-template>
                            <ng-template pTemplate="header" let-columns style="padding-top: 1% !important">
                                <tr>
                                    <ng-container *ngFor="let col of columns">
                                        <th class="text-center" *ngIf="col.field!='companyName' && col.field!='buName' && col.field!='deptName' && col.field!='divName'" pResizableColumn pReorderableColumn [pSortableColumn]="col.field">
                                            {{col.header}}
                                            <p-sortIcon [field]="col.field"></p-sortIcon>
                                        </th>
                                        <th class="text-center" *ngIf="col.field=='companyName'" colspan="4" pResizableColumn pReorderableColumn [pSortableColumn]="col.field">
                                            Management Structure
                                        </th>
                                    </ng-container>
                                    <th style="width:150px;position: sticky;" *ngIf="selectedColumns.length> 0">Actions</th>
                                </tr>
                                <tr>
                                    <th style="width:auto" *ngFor="let col of columns" [ngSwitch]="col.field">
                                        <input style="width:100%;" pInputText type="text" (input)="dt.filter($event.target.value, col.field,'contains')">
                                    </th>
                                    <th style="width:150px;position: sticky"></th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-rowData let-columns="columns" let-asset>
                                <tr [pSelectableRow]="rowData" pReorderableRowHandle (dblclick)="openView(view,rowData)">

                                    <td style="width:auto" *ngFor="let col of columns" class="ui-resizable-column"
                                        pReorderableRowHandle>
                                        {{col.field == 'companyName' ? rowData['companyName'] + ', ' +rowData['buName']+ ', ' +rowData['deptName']+ ', ' +rowData['divName'] :rowData[col.field]}}
                                    </td>
                                    <td class="action-icons-cstm" style="width:150px" *ngIf="selectedColumns.length> 0">
                                        <div>
                                        <p-inputSwitch *ngIf="rowData['isActive']==true" matTooltip="Active" onLabel="on"
                                                       offLabel="off" (onChange)="toggleIsActive(rowData,$event)"
                                                       [(ngModel)]="rowData['isActive']"></p-inputSwitch>
                                        <p-inputSwitch *ngIf="rowData['isActive']==false" matTooltip="In Active" onLabel="on"
                                                       offLabel="off" (onChange)="toggleIsActive(rowData,$event)"
                                                       [(ngModel)]="rowData['isActive']"></p-inputSwitch>
                                        <p-inputSwitch *ngIf="rowData['isActive']==null" matTooltip="In Active" onLabel="on"
                                                       offLabel="off" (onChange)="toggleIsActive(rowData,$event)"
                                                       [(ngModel)]="rowData['isActive']"></p-inputSwitch>
                                        <span data-toggle="modal" data-target="#view"><a class="btn nobg btn-view-cstm" (click)="openView(view,rowData)" matTooltip="View"><i class="fa fa-eye"></i></a> </span>
                                        <span><a class="btn nobg btn-edit-cstm" (click)="openAssetToEdit(rowData)" matTooltip="Edit"><i class="fa fa-pencil"></i></a> </span>
                                        <span><a class="btn nobg btn-edit-cstm" (click)="openAssetToAdjustment(rowData)" matTooltip="Asset Adjustment"><i class="fa fa-adjust"></i></a> </span>
                                        <span><a class="btn nobg btn-delete-cstm" (click)="openHistory(history,rowData)" matTooltip="History"><i class="fa fa-history"></i></a> </span>
                                        <span><a class="btn nobg btn-delete-cstm" (click)="openDelete(content,rowData)" matTooltip="Delete"><i class="fa fa-trash"></i></a> </span>
                                        
                                        </div>

                                        <!-- <span data-toggle="modal" data-target="#view">
                                            <a class="btn btn-info boxed-float-btn nobg" data-toggle="tooltip"
                                               (click)="openView(view,rowData)" matTooltip="View"><i class="fa fa-eye"></i></a>
                                        </span> -->
                                        <!-- <button class="btn-edit" mat-icon-button (click)="openAssetToEdit(rowData)"
                                                matTooltip="edit">
                                            <mat-icon>edit</mat-icon>
                                        </button> -->
                                        <!--Audit method for Asset creation
        <span (click)="showAuditPopup(auditContent,rowData.assetRecordId)" matTooltip="History" data-toggle="modal" data-target="#history">
            <a data-toggle="tooltip" title="" class="btn btn-success nobg" data-original-title="History">
                <i class="fa fa-history"></i>
            </a>
        </span>-->

                                        <!-- <button class="btn-delete" mat-icon-button matTooltip="Delete"
                                                (click)="openDelete(content,rowData)">
                                            <mat-icon color="warn">delete</mat-icon>
                                        </button> -->
                                    </td>

                                </tr>
                            </ng-template>
                            <ng-template pTemplate="summary" id="footer">
                                <div style="text-align: right;">
                                    <label id="footer" class="footer">No. of records:</label>
                                    <input style="width: 5%;" [(ngModel)]="totalRecords" [disabled]="true" pInputText type="text" /> &nbsp;&nbsp;
                                    <label id="footer" class="footer1">Pages Count:</label>
                                    <input style="width: 5%;" [(ngModel)]="totalPages" [disabled]="true" pInputText type="text" />
                                </div>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ng-template #view class="modal fade " id="view" role="dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" (click)="dismissModel()">×</button>
                <h4 class="modal-title">Details of Asset: <span>"{{assetViewList.assetId}}"</span></h4>
            </div>
            <div class="modal-body viewform">
                <div id="adminsearchlocationajax" class="table-responsive default-bg clear">
                    <div class="panel-group" id="accordion">
                        <div class="panel panel-default">
                            <div>
                                <button type="button" class="btn btn-primary" data-toggle="collapse" (click)="openAllCollapse()">Open All</button>
                                <button type="button" class="btn btn-secondary" data-toggle="collapse" (click)="closeAllCollapse()">Close All</button>
                                <hr />
                            </div>
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="" data-toggle="collapse" href="#step1" aria-expanded="true">General Information</a>
                                </h4>
                            </div>
                            <div id="step1" class="panel-collapse collapse in show">
                                <div class="panel-body">
                                    <div class="col-sm-6">
                                        <p>
                                            <span class="label"><b>Entry Date: </b></span><span class="value">{{assetViewList.entryDate}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset ID: </b></span><span class="value">{{assetViewList.assetId}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Alt Asset ID: </b></span><span class="value">{{assetViewList.alternateAssetId}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset Name: </b></span><span class="value">
                                                {{assetViewList.name}}
                                            </span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset Description: </b></span><span class="value">{{assetViewList.description}}</span>
                                        </p>
                                        <div class="ms-block">
                                            <p>
                                                <b>Management Structure: </b>
                                            </p>
                                            <p>
                                                <span class=""><b>Entity: </b></span><span class="value">
                                                    {{assetViewList.companyName}}
                                                </span>
                                            </p>
                                            <p>
                                                <span style="padding-left: 40px"><b> </b></span><span class="value">
                                                    {{assetViewList.buName}}
                                                </span>
                                            </p>
                                            <p>
                                                <span style="padding-left: 40px"><b> </b></span><span class="value">
                                                    {{assetViewList.deptName}}
                                                </span>
                                            </p>
                                            <p>
                                                <span style="padding-left: 40px"><b> </b></span><span class="value">
                                                    {{assetViewList.divName}}
                                                </span>
                                            </p>
                                        </div>
                                        <p>
                                            <span class="label"><b>Tangible/Intangible: </b></span><span class="value">{{assetViewList.depreOrIntang}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Acquisition Type: </b></span><span class="value">{{assetViewList.assetAcquisitionTypeId}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Manufacturer: </b></span><span class="value">
                                                {{assetViewList.manufacturerName}}
                                            </span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Manufactured Date: </b></span><span class="value">{{assetViewList.manufacturedDate}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Model Num: </b></span><span class="value">{{assetViewList.model}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Serialized?: </b></span>
                                            <span class="value">{{assetViewList.isSerialized}}</span>
                                        </p>
                                        <p><span class="label"><b>UOM: </b></span><span class="value">{{assetViewList.unitOfMeasureId}}</span></p>
                                        <p><span class="label"><b>Currency: </b></span><span class="value">{{assetViewList.currencyId}}</span></p>
                                        <p>
                                            <span class="label"><b>Unit Cost: </b></span><span class="value">{{assetViewList.unitCost}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Expiration Date: </b></span><span class="value">{{assetViewList.expirationDate}}</span>
                                        </p>
                                    </div>
                                    <div class="col-sm-6">
                                        <p>
                                            <span class="label"><b>Asset Location: </b></span><span class="value">{{assetViewList.assetLocationName}}</span>
                                        </p>
                                        <p>
                                            <span class="label" ><b>Memo: </b></span><span class="value">{{assetViewList.memo}} </span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset Parent: </b></span><span class="value">{{assetViewList.assetParentId}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset Class: </b></span><span class="value">{{assetViewList.assetTypeId}}</span>
                                        </p>
                                       <div style=padding-left:0%>
                                        <p>
                                            <span class="label"><b>Depreciation Method: </b></span><span class="value">{{assetViewList.depreciationMethodObj}}</span>
                                        </p>
                                        <p><span class="label col-sm-6"><b>Residual %: </b></span><span class="value">{{assetViewList.residualPercentage}}</span></p>
                                        <p><span class="label"><b>Asset Life: </b></span><span class="value">{{assetViewList.assetLife}}</span></p>
                                        <p><span class="label"><b>Depr Frequency: </b></span><span class="value">{{assetViewList.depreciationFrequencyObj}}</span></p>
                                        <p><span class="label"><b>Acquired GL: </b></span><span class="value">{{assetViewList.acquiredGLAccountObj}}</span></p>
                                        <p><span class="label"><b>Depr Expense GL: </b></span><span class="value">{{assetViewList.deprExpenseGLAccountObj}}</span></p>
                                        <p><span class="label"><b>AD Depr GL: </b></span><span class="value">{{assetViewList.adDepsGLAccountObj}}</span></p>
                                        <p><span class="label"><b>Sale GL: </b></span><span class="value">{{assetViewList.assetSaleObj}}</span></p>
                                        <p><span class="label"><b>Write Off GL: </b></span><span class="value">{{assetViewList.assetWriteOffObj}}</span></p>
                                        <p><span class="label"><b>Write Down GL: </b></span><span class="value">{{assetViewList.assetWriteDownObj}}</span></p>
                                  </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="collapsed" data-toggle="collapse" href="#step2">Capes</a>
                                </h4>
                            </div>
                            <div id="step2" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="col-sm-12">
                                        <div class="table-responsive">
                                            <p-table #dt class="rpo-table-cstm rro-table-cstm" [value]="allCapesInfo"
                                                     [metaKeySelection]="true"
                                                     [first]="pageIndex"
                                                     [rows]="pageSize"
                                                     [paginator]="true"
                                                     [pageLinks]="3"
                                                     [rowsPerPageOptions]="[10,20,50,100]"
                                                     [columns]="selectedCol"
                                                     selectionMode="multiple"
                                                     [resizableColumns]="true"
                                                     [reorderableColumns]="true"
                                                     [scrollable]="true"
                                                     [totalRecords]="totalRecords1"
                                                     scrollHeight="450px">
                                                <ng-template pTemplate="colgroup" let-columns>
                                                    <colgroup>
                                                        <col *ngFor="let col of columns" style="width:140px">
                                                    </colgroup>
                                                </ng-template>
                                                <ng-template pTemplate="header" let-columns style="padding-top: 1% !important">
                                                    <tr>
                                                        <th style="width:auto" *ngFor="let col of columns" pResizableColumn pReorderableColumn
                                                            [pSortableColumn]="col.field">
                                                            {{col.header}}
                                                            <p-sortIcon [field]="col.field"></p-sortIcon>
                                                        </th>
                                                    </tr>
                                                    <tr>
                                                        <th style="width:auto" *ngFor="let col of columns" [ngSwitch]="col.field">
                                                            <input style="width:100%;" pInputText type="text" (input)="dt.filter($event.target.value, col.field,'contains')">
                                                        </th>
                                                    </tr>
                                                </ng-template>


                                                <ng-template pTemplate="body" let-rowData let-columns="columns" let-assetCapes let-rowIndex="rowIndex">
                                                    <tr [pSelectableRow]="rowData" pReorderableRowHandle>
                                                        <td style="width:120px" *ngFor="let col of columns" class="ui-resizable-column" pReorderableRowHandle>
                                                            {{rowData[col.field]}}
                                                        </td>
                                                        <td class="action-icons-cstm" style="width:150px">
                                                            <p-inputSwitch *ngIf="rowData['isActive']==true" matTooltip="Active" onLabel="on"
                                                                           offLabel="off" (onChange)="toggleActiveStatus(rowData)"
                                                                           disabled [(ngModel)]="rowData['isActive']"></p-inputSwitch>
                                                            <p-inputSwitch *ngIf="rowData['isActive']==false" matTooltip="In Active" onLabel="on"
                                                                           offLabel="off" (onChange)="toggleActiveStatus(rowData)"
                                                                           disabled [(ngModel)]="rowData['isActive']"></p-inputSwitch>
                                                            <p-inputSwitch *ngIf="rowData['isActive']==null" matTooltip="In Active" onLabel="on"
                                                                           offLabel="off" (onChange)="toggleActiveStatus(rowData)"
                                                                           disabled [(ngModel)]="rowData['isActive']"></p-inputSwitch>

                                                            <button class="btn-history" mat-icon-button matTooltip="History" data-target="#contentHist" data-toggle="modal" (click)="getAuditHistoryById(rowData)">
                                                                <mat-icon color="green">history</mat-icon>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </ng-template>
                                                <ng-template pTemplate="summary" id="footer">
                                                    <div style="text-align: right;">
                                                        <label id="footer" class="footer">No. of records:</label>
                                                        <input style="width: 5% !important;" [(ngModel)]="totalRecords1" [disabled]="true" pInputText type="text" /> &nbsp;&nbsp;
                                                        <label id="footer" class="footer1">Pages Count:</label>
                                                        <input style="width: 5% !important;" [(ngModel)]="totalPages1" [disabled]="true" pInputText type="text" />
                                                    </div>
                                                </ng-template>
                                            </p-table>
                                            <p class="clr-red">Number of rows in the table are all the possible combinations of the PN, Capability Type, Aircraft Manufacturer and Model selected.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div *ngIf="auditHistory" id="contentHist" #contentHist class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
                            <div class="modal-dialog modal-lg">

                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">History of Asset Capes</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="table-responsive rro-table-cstm">
                                            <table class="table table-bordered" *ngIf="auditHistory.length> 0 else noDatavailable">
                                                <thead>
                                                    <tr>
                                                        <th>Capability Type</th>
                                                        <th>PN</th>
                                                        <th>Aircraft Manufacturer</th>
                                                        <th>Models</th>
                                                        <th>Dash Number</th>
                                                        <th>IsActive</th>
                                                        <th>Updated By</th>
                                                        <th>Updated Time</th>
                                                    </tr>
                                                </thead>
                                                <tbody *ngIf="auditHistory.length> 0">
                                                    <tr *ngFor="let audit of auditHistory; let i = index;">
                                                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'captypedescription', audit.captypedescription)  ? 'black' : 'red'  }">{{audit.captypedescription}}</td>
                                                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'partNumber', audit.partNumber)  ? 'black' : 'red'  }">{{audit.partNumber}}</td>
                                                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'manufacturer', audit.manufacturer)  ? 'black' : 'red'  }">{{audit.manufacturer}}</td>
                                                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'modelname', audit.modelname)  ? 'black' : 'red'  }">{{audit.modelname}}</td>
                                                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'dashNumber', audit.dashNumber)  ? 'black' : 'red'  }">{{audit.dashNumber}}</td>
                                                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'isActive', audit.isActive)  ? 'black' : 'red'  }">{{audit.isActive}}</td>
                                                        <td>{{audit.updatedBy}}</td>
                                                        <td>{{audit.updatedDate | date: 'dd-MM-yyyy h:mm a '}}</td>
                                                    </tr>
                                                </tbody>


                                            </table>
                                            <ng-template #noDatavailable>
                                                <div class="text-center">
                                                    <!--<img src="../../assets/images/binoculars.png" style="height: 100px; width: 100px;">-->
                                                    <h4 style="color: #ff5663;">No History Found </h4>
                                                </div>

                                            </ng-template>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="collapsed" data-toggle="collapse" href="#step3">Calibration</a>
                                </h4>
                            </div>
                            <div id="step3" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="col-sm-3" *ngIf="assetViewList.calibrationRequired">
                                        <p>
                                            <span class="label"><b>Calibration Frequency: </b></span><span class="value">{{assetViewList.calibrationFrequencyMonths}} Months, {{assetViewList.calibrationFrequencyDays}}Days</span>
                                        </p>
                                        <p><span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.calibrationDefaultVendorId}} </span></p>
                                        <p>
                                            <span class="label"><b>Dafault Cost: </b></span><span class="value">&nbsp;{{assetViewList.calibrationDefaultCost}}</span>
                                        </p>
                                        <p><span class="label"><b>GL Account: </b></span><span class="value">{{assetViewList.calibrationGlAccountId}}</span></p>
                                        <p>
                                            <span class="label"><b>Calibration Memo: </b></span><span class="value">{{assetViewList.assetCalibrationMemo}}</span>
                                        </p>
                                    </div>
                                    <div class="col-sm-3" *ngIf="assetViewList.certificationRequired">
                                        <p>
                                            <span class="label"><b>Certification Frequency: </b></span><span class="value">{{assetViewList.certificationFrequencyMonths}} Months, {{assetViewList.certificationFrequencyDays}} Days</span>
                                        </p>
                                        <p><span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.certificationDefaultVendorId}} </span></p>
                                        <p>
                                            <span class="label"><b>Dafault Cost: </b></span><span class="value">&nbsp;{{assetViewList.certificationDefaultCost}}</span>
                                        </p>
                                        <p><span class="label"><b>GL Account: </b></span><span class="value">{{assetViewList.certificationGlAccountId}}</span></p>
                                        <p>
                                            <span class="label"><b>Certification Memo: </b></span><span class="value">{{assetViewList.certificationMemo}}</span>
                                        </p>
                                    </div>
                                    <div class="col-sm-3" *ngIf="assetViewList.inspectionRequired">
                                        <p>
                                            <span class="label"><b>Inspection Frequency: </b></span><span class="value">{{assetViewList.inspectionFrequencyMonths}} Months, {{assetViewList.inspectionFrequencyDays}}Days</span>
                                        </p>
                                        <p><span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.inspectionDefaultVendorId}} </span></p>
                                        <p>
                                            <span class="label"><b>Dafault Cost: </b></span><span class="value">&nbsp;{{assetViewList.inspectionDefaultCost}}</span>
                                        </p>
                                        <p><span class="label"><b>GL Account: </b></span><span class="value">{{assetViewList.inspectionGlaAccountId}}</span></p>
                                        <p>
                                            <span class="label"><b>Inspection Memo: </b></span><span class="value">{{assetViewList.inspectionMemo}}</span>
                                        </p>
                                    </div>
                                    <div class="col-sm-3" *ngIf="assetViewList.verificationRequired">
                                        <p>
                                            <span class="label"><b>Verification Frequency: </b></span><span class="value">{{assetViewList.verificationFrequencyMonths}} Months, {{assetViewList.verificationFrequencyDays}}Days</span>
                                        </p>
                                        <p><span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.verificationDefaultVendorId}} </span></p>
                                        <p>
                                            <span class="label"><b>Dafault Cost: </b></span><span class="value">&nbsp;{{assetViewList.verificationDefaultCost}}</span>
                                        </p>
                                        <p><span class="label"><b>GL Account: </b></span><span class="value">{{assetViewList.verificationGlaAccountId}}</span></p>
                                        <p>
                                            <span class="label"><b>Verification Memo: </b></span><span class="value">{{assetViewList.verificationMemo}}</span>
                                        </p>
                                    </div>

                                    <div class="col-sm-12">
                                        <div class="form-group col-sm-12 calibration-block w400" *ngIf="assetViewList.calibrationRequired || assetViewList.certificationRequired || assetViewList.inspectionRequired || assetViewList.verificationRequired">
                                            <div class="table-responsive">
                                                <table class="table table-bordered table-striped">
                                                    <thead style="background:#337ab7;color:#fff">
                                                        <tr>
                                                            <th></th>
                                                            <th colspan="2">Tolerance</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Min</td>
                                                            <td>
                                                                <span class="value">{{assetViewList.assetCalibrationMin}}</span>
                                                            </td>
                                                            <td>
                                                                <span class="value">{{assetViewList.assetCalibrationMinTolerance}}</span>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Max</td>
                                                            <td>
                                                                <span class="value">{{assetViewList.assetCalibratonMax}}</span>
                                                            </td>
                                                            <td>
                                                                <span class="value">{{assetViewList.assetCalibrationMaxTolerance}}</span>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Expected</td>
                                                            <td>
                                                                <span class="value">{{assetViewList.assetCalibrationExpected}}</span>
                                                            </td>
                                                            <td>
                                                                <span class="value">{{assetViewList.assetCalibrationExpectedTolerance}}</span>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td></td>
                                                            <td colspan="2">
                                                                <span class="value">{{assetViewList.assetCalibrationMemo}}</span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="collapsed" data-toggle="collapse" href="#step4">
                                        Maintenance &amp;
                                        Warranty
                                    </a>
                                </h4>
                            </div>
                            <div id="step4" class="panel-collapse collapse">
                                <div class="panel-body" *ngIf="assetViewList.assetIsMaintenanceReqd || assetViewList.isWarrantyRequired">
                                    <div class="col-sm-6" *ngIf="assetViewList.assetIsMaintenanceReqd">
                                        <p>
                                            <span class="label"><b>Maintenance Required: </b></span>
                                            <span class="value">{{assetViewList.assetIsMaintenanceReqd}}</span>
                                            <!--<input type="checkbox"
                        [disabled]="true" [checked]="assetViewList.assetIsMaintenanceReqd" />-->
                                        </p>
                                        <p>
                                            <span class="label"><b>Maintenance Contract: </b></span>
                                            <span class="value">{{assetViewList.assetMaintenanceIsContract}}</span>
                                            <!--<input type="checkbox"
                        [disabled]="true" [checked]="assetViewList.assetMaintenanceIsContract" />-->
                                        </p>

                                        <p>
                                            <span class="label"><b>Maintenance Frequency: </b></span><span class="value">{{assetViewList.maintenanceFrequencyMonths}} Months</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.defaultVendorId}}</span>
                                        </p>
                                        <p><span class="label"><b>GL Account: </b></span><span class="value">{{assetViewList.glAccountId}}</span></p>
                                        <p>
                                            <span class="label"><b>Maintenance Memo: </b></span><span class="value">{{assetViewList.maintenanceMemo}}</span>
                                        </p>
                                    </div>
                                    <div class="col-sm-6" *ngIf="assetViewList.isWarrantyRequired">
                                        <p>
                                            <span class="label"><b>Warranty Required: </b></span>
                                            <span class="value">{{assetViewList.isWarrantyRequired}}</span>
                                            <!--<input type="checkbox" [disabled]="true"
                        [checked]="assetViewList.isWarrantyRequired" />-->
                                        </p>
                                        <p>
                                            <span class="label"><b>Warranty</b></span>
                                            <span class="value">{{assetViewList.warranty}}</span>
                                        </p>

                                        <p>
                                            <span class="label"><b>Warranty Company: </b></span><span class="value">{{assetViewList.warrantyCompany}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Warranty Start Date: </b></span><span class="value">{{assetViewList.warrantyStartDate}}</span>
                                        </p>
                                        <p><span class="label"><b>Warranty End Date: </b></span><span class="value">{{assetViewList.warrantyEndDate}}</span></p>
                                        <p>
                                            <span class="label"><b>Warranty Status: </b></span><span class="value">{{assetViewList.warrantyStatus}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Unexpired Time (Months): </b></span><span class="value">{{assetViewList.unexpiredTime}}</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="dismissModel()">Close</button>
            </div>
        </div>
    </ng-template>

    <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title">Are You Sure Want to Delete?</h4>
            <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-success" (click)="removeAsset()">Yes</button>
            <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
        </div>

    </ng-template>

    <ng-template #history let-c="close" let-d="dismiss">
            <div class="modal-header">
                <h4 class="modal-title">History of Asset "{{selectedAsset}}"</h4>
                <button type="button" class="close" aria-label="Close" (click)="dismissHistoryModel()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body" style="padding:0;">
                    <p-table #dt class="rpo-table-cstm rro-table-cstm" 
                    [value]="historyData"
                    [columns]="historyCols">
               
               <ng-template pTemplate="colgroup" let-columns>
                   <colgroup>
                        
                       <col *ngFor="let col of columns" [ngStyle]="{'width': col.width}">
                       <col style="width:20px">
                   </colgroup>
               </ng-template>
               <ng-template pTemplate="header" let-columns>
                   <tr>
                       
                       <th *ngFor="let col of columns">
                           {{col.header}}
                          
                       </th>
                       <th></th>
                      
                   </tr>
                  
               </ng-template>
               <ng-template pTemplate="body" let-rowData let-columns="columns" let-asset>
                   <tr>
                      
                       <td>{{ rowData.overview}}</td>
                       <td>{{ rowData.updatedBy}}</td>
                       <td>{{ rowData.updatedTime}}</td>
                       <td>
                            <span><a class="btn nobg btn-edit-cstm">
                                    <i class="fa fa-plus-circle fa-lg"></i>
                            </a></span>
                       </td>
              
                      
                   </tr>
                </ng-template>
                </p-table>
            </div>
    
            <div class="modal-footer">
                
                <button type="button" class="btn btn-danger" (click)="dismissHistoryModel()">Close</button>
            </div>
    
        </ng-template>

</div>


<!--<div *ngIf="isWorkOrder">
    <app-view-asset [assetViewList]="assetViewList"></app-view-asset>
</div>-->
<!--code for asset creation audit
            <ng-template #auditContent let-c="close" let-d="dismiss">
                <div *ngIf="AuditDetails != undefined && AuditDetails.length > 0">
                    <app-audit [Data]="AuditDetails" [Modal]="modal"></app-audit>
                </div>
            </ng-template>-->
