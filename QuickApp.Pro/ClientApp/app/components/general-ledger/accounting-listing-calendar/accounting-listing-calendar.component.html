<p-breadcrumb [model]="breadcrumbs" [home]="home"></p-breadcrumb>
<div class="card general1 form-horizontal add-glaccount">  
    <div class="card-body">
        <div class="inline-block display-flex">
            <h3 class="po-head lead">Account Calendar Listing</h3>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <a matTooltip="Create Account Calendar"
               class="plusicon-cstm new-margin"
               [routerLink]="[
               '/generalledgermodule/generalledgerpage/app-accounting-calendar'
              ]">
                <i class="fa fa-plus-circle fa-lg"></i>
            </a>
        </div>
        <p-table #dt
                 class="rpo-table-cstm rro-table-cstm"
                 [value]="data"
                 [first]="0"
                 [rows]="pageSize"
                 [paginator]="true"
                 [pageLinks]="3"
                 [rowsPerPageOptions]="[10, 20, 50, 100]"
                 [columns]="selectedColumns"
                 selectionMode="multiple"
                 [lazy]="true"
                 (onLazyLoad)="loadCalendarList($event)"
                 [resizableColumns]="true"
                 [reorderableColumns]="true"
                 [scrollable]="true"
                 [totalRecords]="totalRecords"
                 scrollHeight="450px"
                 styleClass="accounttable">

            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th style="width:120px"
                        *ngFor="let col of columns"
                        pResizableColumn
                        pReorderableColumn
                        [pSortableColumn]="col.field">
                        {{ col.header }}
                        <p-sortIcon [field]="col.field"></p-sortIcon>
                    </th>
                    <th style="width:200px;position:sticky"
                        *ngIf="selectedColumns.length > 0">
                        Actions
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-columns="columns">
                <tr [pSelectableRow]="rowData" pReorderableRowHandle>
                    <td style="width:120px"
                        *ngFor="let col of columns"
                        class="ui-resizable-column"
                        pReorderableRowHandle
                        data-toggle="modal"
                        data-target="#view"
                        (dblclick)="viewSelectedRow(rowData)">
                        {{
                              col.field == 'startDate'
                                ? (rowData[col.field] | date: 'MM/dd/yyyy')
                                : rowData[col.field] && col.field == 'endDate'
                                ? (rowData[col.field] | date: 'MM/dd/yyyy')
                                : rowData[col.field]
                        }}
                    </td>
                    <td style="width:200px; text-align: left" *ngIf="selectedColumns.length > 0">
                        <span data-toggle="modal" data-target="#view">
                            <a class="btn btn-info boxed-float-btn nobg"
                               data-toggle="tooltip"
                               (click)="viewSelectedRow(rowData)"
                               data-target="#view"
                               data-toggle="modal">
                                <i class="fa fa-eye"></i>
                            </a>
                        </span>
                        <button class="btn-edit"
                                mat-icon-button
                                (click)="editCalendarData(rowData)"
                                matTooltip="Edit">
                            <mat-icon>edit</mat-icon>
                        </button>

                        <button class="btn-history"
                                mat-icon-button
                                matTooltip="History"
                                data-target="#contentHist"
                                data-toggle="modal"
                                (click)="getAuditHistoryById(rowData)">
                            <mat-icon color="green">history</mat-icon>
                        </button>
                    </td>
                </tr>
            </ng-template>

            <ng-template pTemplate="summary" id="footer">
                <label id="footer" class="footer">No'of records:</label>
                <input style="width: 5%;"
                       [(ngModel)]="totalRecords"
                       [disabled]="true"
                       pInputText
                       type="text" />
                &nbsp;&nbsp;
                <label id="footer" class="footer1">Pages Count:</label>
                <input style="width: 5%;"
                       [(ngModel)]="totalPages"
                       [disabled]="true"
                       pInputText
                       type="text" />
            </ng-template>
        </p-table>
    </div>


</div>